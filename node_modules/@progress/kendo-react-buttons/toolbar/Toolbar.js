/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const E=require("react"),u=require("prop-types"),a=require("@progress/kendo-react-common"),H=require("../util.js"),P=require("../package-metadata.js");function W(o){const l=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(o){for(const i in o)if(i!=="default"){const d=Object.getOwnPropertyDescriptor(o,i);Object.defineProperty(l,i,d.get?d:{enumerable:!0,get:()=>o[i]})}}return l.default=o,Object.freeze(l)}const r=W(E),p=r.forwardRef((o,l)=>{a.validatePackage(P.packageMetadata);const{children:i,className:d,id:j,ariaLabel:q,keyboardNavigation:h,role:I,onResize:x,dir:S,style:T,tabIndex:z=O.tabIndex,size:k=O.size}=o,v=r.useRef(!1),n=r.useRef(null),b=r.useRef(0),y=r.useRef(0),s=r.useRef([]),m=r.useMemo(()=>o.buttons||H.toolbarButtons,[o.buttons]),C=r.useMemo(()=>m.map(e=>e+":focus").join(","),[m]),w=()=>{const e=n.current&&n.current.querySelector(C);return Math.max(0,s.current.findIndex(c=>c===e))},R=r.useRef({element:null,props:o});r.useImperativeHandle(R,()=>({element:n.current,props:o})),r.useImperativeHandle(l,()=>R.current),r.useEffect(()=>(window.addEventListener("resize",M),n.current&&(y.current=n.current.offsetWidth,b.current=n.current.offsetHeight,h!==!1&&(s.current=Array.from(n.current.querySelectorAll(m.join(","))),K(0))),()=>{window.removeEventListener("resize",M),s.current.length=0}),[]),r.useEffect(()=>{if(v.current){if(!n.current||h===!1)return;s.current=Array.from(n.current.querySelectorAll(m.join(","))),K(w())}else v.current=!0});const K=e=>{s.current.forEach((c,t)=>{c.tabIndex=t===e?z:-1})},N=e=>{const c=e.keyCode===a.Keys.left||e.keyCode===a.Keys.right||e.keyCode===a.Keys.home||e.keyCode===a.Keys.end,t=w();!c||e.defaultPrevented||s.current.findIndex(f=>f===e.target)===-1||(e.keyCode===a.Keys.left?g(t,t===0?s.current.length-1:t-1):g(t,t===s.current.length-1?0:t+1),e.keyCode===a.Keys.home&&g(t,0),e.keyCode===a.Keys.end&&g(t,s.current.length-1))},g=(e,c)=>{const t=s.current[c];if(t){t.tabIndex=z,t.focus();const f=s.current[e];f&&(f.tabIndex=-1)}},M=e=>{if(!n.current)return;const c=n.current.offsetWidth,t=n.current.offsetHeight;if(y.current!==c||b.current!==t){y.current=c,b.current=t;const f={offsetWidth:y.current,offsetHeight:b.current};x&&x.call(void 0,{target:R.current,...f,nativeEvent:e})}};return r.createElement("div",{id:j,"aria-label":q,className:a.classNames("k-toolbar k-toolbar-solid",{[`k-toolbar-${a.kendoThemeMaps.sizeMap[k]||k}`]:k},d),style:T,role:I!==void 0?I||void 0:"toolbar",dir:S,ref:n,onKeyDown:h!==!1?N:void 0},i)}),O={tabIndex:0,size:"medium"};p.displayName="KendoReactToolbar";p.propTypes={tabIndex:u.number,dir:u.string,keyboardNavigation:u.bool,style:u.object,className:u.string,role:u.string,onResize:u.func,buttons:u.arrayOf(u.string.isRequired),size:u.oneOf([null,"small","medium","large"])};exports.Toolbar=p;
