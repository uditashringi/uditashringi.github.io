/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const ke=require("react"),s=require("prop-types"),Ke=require("./PagerNumericButtons.js"),Le=require("./PagerInput.js"),ze=require("./PagerPageSizes.js"),De=require("@progress/kendo-react-buttons"),u=require("../messages/index.js"),Y=require("@progress/kendo-react-intl"),a=require("@progress/kendo-react-common"),qe=require("../package-metadata.js"),n=require("./utils.js");function Oe(o){const M=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(o){for(const f in o)if(f!=="default"){const v=Object.getOwnPropertyDescriptor(o,f);Object.defineProperty(M,f,v.get?v:{enumerable:!0,get:()=>o[f]})}}return M.default=o,Object.freeze(M)}const i=Oe(ke),Z=600,we=768,B=i.forwardRef((o,M)=>{a.validatePackage(qe.packageMetadata);const{buttonCount:f=C.buttonCount,info:v=C.info,type:ee=C.type,size:m=C.size,disabled:y=C.disabled,total:h,skip:L,take:N,className:te,style:se,pageSizes:T,pageSizeValue:ae,previousNext:ne,responsive:R,messagesMap:l,dir:_,navigatable:b}=o,c=Y.useLocalization(),z=Y.useInternationalization(),P=i.useRef({element:null,props:o}),E=i.useRef(null);i.useImperativeHandle(P,()=>({get element(){return re()},props:o})),i.useImperativeHandle(M,()=>P.current);const re=()=>E.current,[A,D]=i.useState(!0),[oe,j]=i.useState(!0);i.useEffect(()=>(window.addEventListener("resize",q),q(),()=>{window.removeEventListener("resize",q)}),[]);const I=_==="rtl",g=Math.floor(L/N)+1,d=Math.ceil((h||0)/N),p=(t,e)=>{o.onPageChange&&t>0&&t<=d&&o.onPageChange({target:P.current,skip:(t-1)*o.take,take:o.take,syntheticEvent:e,nativeEvent:e.nativeEvent,targetEvent:e})},ie=t=>{const e=E.current,r=t.keyCode;!e||!b||((r===a.Keys.home||t.metaKey&&r===a.Keys.left)&&p(1,t),(r===a.Keys.end||t.metaKey&&r===a.Keys.right)&&p(d,t),document.activeElement===e?(r===a.Keys.enter&&(a.focusFirstFocusableChild(e),a.enableNavigatableContainer(e)),(r===a.Keys.left||r===a.Keys.up)&&p(g-1,t),(r===a.Keys.right||r===a.Keys.down)&&p(g+1,t)):(r===a.Keys.esc&&(e.focus(),a.disableNavigatableContainer(e)),a.keepFocusInContainer(t,e,a.TABBABLE_ELEMENTS)))},q=()=>{const t=E.current;if(!t||!R)return;const e=t.offsetWidth;e<Z?D(!1):e>=Z&&e<we?(j(!1),D(!0)):(j(!0),D(!0))},le=(t,e)=>{const r={target:P==null?void 0:P.current,syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,targetEvent:e,...t};o.onPageChange&&o.onPageChange(r)},ge=n.getL10NMessage(u.pagerFirstPage,l),ce=n.getL10NMessage(u.pagerPreviousPage,l),ue=n.getL10NMessage(u.pagerNextPage,l),de=n.getL10NMessage(u.pagerLastPage,l),F=n.getL10NMessage(u.pagerInfo,l),$=n.getL10NMessage(u.pagerAriaKeyshortcuts,l),V=n.getL10NMessage(u.pagerPage,l),G=n.getL10NMessage(u.pagerOf,l),S=n.getL10NMessage(u.pagerTotalPages,l),fe=`${c.toLanguageString(V.messageKey,V.defaultMessage)} ${z.format(c.toLanguageString(S.messageKey,S.defaultMessage),[g])} ${c.toLanguageString(G.messageKey,G.defaultMessage)} ${z.format(c.toLanguageString(S.messageKey,S.defaultMessage),[d])}`,k=(t,e,r,O,w,x)=>i.createElement(De.Button,{fillMode:"flat",themeColor:"base",size:m,rounded:null,className:e,icon:O,svgIcon:w,title:r,role:"button","aria-disabled":x,tabIndex:b?-1:void 0,onClick:K=>{K.preventDefault(),p(t,K)}}),H=T&&i.createElement(ze.PagerPageSizes,{pageChange:le,pageSize:N,pageSizes:T,value:ae,messagesMap:l,size:m,navigatable:b}),W=v&&i.createElement("span",{className:"k-pager-info"},z.format(c.toLanguageString(F.messageKey,F.defaultMessage),[Math.min(L+1,h),Math.min(L+N,h),h])),me=ee==="numeric"?i.createElement(Ke.PagerNumericButtons,{type:R&&!A?"dropdown":"numbers",buttonCount:f||0,totalPages:d,currentPage:g,pageChange:p,messagesMap:l,size:m,navigatable:b}):i.createElement(Le.PagerInput,{buttonCount:f||0,totalPages:d,currentPage:g,pageChange:p,messagesMap:l,size:m,navigatable:b});let U,J,Q,X;if(ne){const t=n.translateMessage(c,ge),{rtlClass:e,rtlIcon:r,isDisabledClass:O,isDisabled:w}=n.getFirstButtonProps(I,g,y);U=k(1,O,t,e,r,w);const x=n.translateMessage(c,ce),{rtlClass:K,rtlIcon:pe,isDisabledClass:be,isDisabled:Pe}=n.getPrevButtonProps(I,g,y);J=k(g-1,be,x,K,pe,Pe);const Me=n.translateMessage(c,ue),{rtlClass:ye,rtlIcon:Ce,isDisabledClass:ve,isDisabled:he}=n.getNextButtonProps(I,g,d,y);Q=k(g+1,ve,Me,ye,Ce,he);const Ne=n.translateMessage(c,de),{rtlClass:Re,rtlIcon:Ee,isDisabledClass:Ie,isDisabled:Se}=n.getLastButtonProps(I,g,d,y);X=k(d,Ie,Ne,Re,Ee,Se)}return i.createElement("div",{ref:E,className:a.classNames("k-pager",{[`k-pager-${a.kendoThemeMaps.sizeMap[m]||m}`]:m,"k-disabled":y},te),style:se,role:"application","aria-roledescription":"pager",dir:_,"aria-keyshortcuts":c.toLanguageString($.messageKey,$.defaultMessage),"aria-label":fe,tabIndex:b?0:void 0,onKeyDown:ie},i.createElement("div",{className:a.classNames("k-pager-numbers-wrap")},U,J,me,Q,X),R?A&&H:H,R?oe&&W:W)}),C={buttonCount:10,info:!0,type:"numeric",size:"medium",disabled:!1};B.displayName="Pager";B.propTypes={className:s.string,style:s.object,total:s.number.isRequired,skip:s.number.isRequired,take:s.number.isRequired,buttonCount:s.number,info:s.bool,type:s.oneOf(["numeric","input"]),pageSizes:s.oneOfType([s.arrayOf(s.number.isRequired),s.arrayOf(s.oneOfType([s.number.isRequired,s.string.isRequired]).isRequired)]),previousNext:s.bool,onPageChange:s.func,messagesMap:s.func,size:s.oneOf([null,"small","medium","large"]),dir:s.string,disabled:s.bool};exports.Pager=B;
