/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types"),require("@progress/kendo-react-common"),require("@progress/kendo-react-buttons"),require("@progress/kendo-react-intl"),require("@progress/kendo-svg-icons"),require("@progress/kendo-react-inputs"),require("@progress/kendo-react-dropdowns"),require("react-dom"),require("@progress/kendo-data-query"),require("@progress/kendo-react-dateinputs"),require("@progress/kendo-react-popup"),require("@progress/kendo-react-animation")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","@progress/kendo-react-common","@progress/kendo-react-buttons","@progress/kendo-react-intl","@progress/kendo-svg-icons","@progress/kendo-react-inputs","@progress/kendo-react-dropdowns","react-dom","@progress/kendo-data-query","@progress/kendo-react-dateinputs","@progress/kendo-react-popup","@progress/kendo-react-animation"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).KendoReactDatatools={},e.React,e.PropTypes,e.KendoReactCommon,e.KendoReactButtons,e.KendoReactIntl,e.KendoSvgIcons,e.KendoReactInputs,e.KendoReactDropdowns,e.ReactDOM,e.KendoDataQuery,e.KendoReactDateinputs,e.KendoReactPopup,e.KendoReactAnimation)}(this,(function(e,t,r,n,a,l,o,i,s,c,u,d,p,m){"use strict";function g(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var h=g(t),f=g(c);const v="pager.info",b="pager.firstPage",C="pager.previousPage",E="pager.nextPage",y="pager.lastPage",x="pager.itemsPerPage",k="pager.page",I="pager.of",R="pager.totalPages",D="pager.pageNumberLabel",F="pager.ariaKeyshortcuts",S="pager.pageSizeAriaLabel",N="pager.mobileSelect",L="pager.moreButtonLabel",w="filter.eqOperator",A="filter.notEqOperator",K="filter.isNullOperator",T="filter.isNotNullOperator",M="filter.isEmptyOperator",O="filter.isNotEmptyOperator",B="filter.startsWithOperator",q="filter.containsOperator",P="filter.notContainsOperator",z="filter.endsWithOperator",G="filter.gteOperator",_="filter.gtOperator",H="filter.lteOperator",$="filter.ltOperator",W="filter.isTrue",Y="filter.isFalse",j="filter.afterOrEqualOperator",V="filter.afterOperator",X="filter.beforeOperator",U="filter.beforeOrEqualOperator",Q="filter.andLogic",Z="filter.orLogic",J="filter.addExpression",ee="filter.addGroup",te="filter.close",re="filter.groupAriaLabel",ne="filter.expressionAriaLabel",ae="filter.expressionDropdownAriaLabel",le="filter.expressionOperatorDropdownAriaLabel",oe="filter.enumFilterDropdownAriaLabel",ie="filter.numericFilterAriaLabel",se="filter.textFilterAriaLabel",ce="columnMenu.filterClearButton",ue="columnMenu.filterSubmitButton",de="columnMenu.filterTitle",pe="columnMenu.sortAscending",me="columnMenu.sortDescending",ge="columnMenu.filterEqOperator",he="columnMenu.filterNotEqOperator",fe="columnMenu.filterIsNullOperator",ve="columnMenu.filterIsNotNullOperator",be="columnMenu.filterIsEmptyOperator",Ce="columnMenu.filterIsNotEmptyOperator",Ee="columnMenu.filterStartsWithOperator",ye="columnMenu.filterContainsOperator",xe="columnMenu.filterNotContainsOperator",ke="columnMenu.filterEndsWithOperator",Ie="columnMenu.filterGteOperator",Re="columnMenu.filterGtOperator",De="columnMenu.filterLteOperator",Fe="columnMenu.filterLtOperator",Se="columnMenu.filterIsTrue",Ne="columnMenu.filterAfterOrEqualOperator",Le="columnMenu.filterAfterOperator",we="columnMenu.filterBeforeOperator",Ae="columnMenu.filterBeforeOrEqualOperator",Ke="columnMenu.filterAndLogic",Te="columnMenu.filterOrLogic",Me="sort.ariaLabel",Oe="filter.ariaLabel",Be={[x]:"items per page","pager.pageSelection":"Select page",[v]:"{0} - {1} of {2} items",[b]:"Go to the first page",[C]:"Go to the previous page",[E]:"Go to the next page",[y]:"Go to the last page",[k]:"Page",[I]:"of",[R]:"{0}","pager.pageLabel":"Page",[F]:"Enter ArrowRight ArrowLeft","pager.ariaLabel":"Pager",[S]:"Page size",[N]:"Select",[L]:"More pages",[D]:"Type a page number",[Me]:"Sortable",[Oe]:"Filter",[w]:"Is equal to",[A]:"Is not equal to",[K]:"Is null",[T]:"Is not null",[M]:"Is empty",[O]:"Is not empty",[B]:"Starts with",[q]:"Contains",[P]:"Does not contain",[z]:"Ends with",[G]:"Is greater than or equal to",[_]:"Is greater than",[H]:"Is less than or equal to",[$]:"Is less than",[W]:"Is true",[Y]:"Is false",[j]:"Is after or equal to",[V]:"Is after",[X]:"Is before",[U]:"Is before or equal to",[Q]:"And",[Z]:"Or",[J]:"Add Expression",[ee]:"Add Group",[te]:"Remove",[re]:"Filter toolbar",[ne]:"Filter expression row",[ae]:"Filter dropdown",[le]:"Filter operator dropdown",[oe]:"Select True/False",[ie]:"Enter number",[se]:"Enter text",[ce]:"Clear",[ue]:"Filter",[de]:"Filter",[pe]:"Sort Ascending",[me]:"Sort Descending",[ge]:"Is equal to",[he]:"Is not equal to",[fe]:"Is null",[ve]:"Is not null",[be]:"Is empty",[Ce]:"Is not empty",[Ee]:"Starts with",[ye]:"Contains",[xe]:"Does not contain",[ke]:"Ends with",[Ie]:"Is greater than or equal to",[Re]:"Is greater than",[De]:"Is less than or equal to",[Fe]:"Is less than",[Se]:"Is true",[Ne]:"Is after or equal to",[Le]:"Is after",[we]:"Is before",[Ae]:"Is before or equal to",[Ke]:"And",[Te]:"Or"},qe=(e,t)=>t?t(e):{messageKey:e,defaultMessage:Be[e]},Pe=(e,t)=>e.toLanguageString(t.messageKey,t.defaultMessage),ze=e=>{const t=l.useLocalization(),{messagesMap:r,size:o,totalPages:i,type:s,navigatable:c}=e,u=qe(N,r),d=qe(k,r),p=qe(L,r),m=Pe(t,p),g=(t,r)=>{t.preventDefault(),e.pageChange(r,t)},f=(e,t)=>h.createElement(a.Button,{fillMode:"flat",themeColor:"primary",size:o,rounded:null,role:"button","aria-label":t,onClick:t=>g(t,e),tabIndex:c?-1:void 0},"..."),v=e=>h.createElement("option",{value:e},"...");let b=1;const C=e.currentPage,E=e.buttonCount;if(C>E){const e=C%E;b=0===e?C-E+1:C-e+1}const y=Math.min(b+e.buttonCount-1,e.totalPages),x=b>1&&f(b-1,m),I=y<i&&f(y+1,m),R=b>1&&v(b-1),D=y<i&&v(y+1),F=[];for(let e=b;e<=y;e++)F.push(e);const S=F.map((e=>h.createElement(a.Button,{className:n.classNames({"k-selected":C===e}),key:e,fillMode:"flat",themeColor:"primary",size:o,rounded:null,role:"button","aria-label":Pe(t,d)+" "+e,"aria-current":C===e||void 0,onClick:t=>g(t,e),tabIndex:c?-1:void 0},e))),w=F.map((e=>h.createElement("option",{key:e},e)));return h.createElement(h.Fragment,null,h.createElement("select",{style:{width:"5em",margin:"0px 1em",display:"inline-flex"},className:n.classNames("k-picker k-dropdown-list k-dropdown k-rounded-md k-picker-solid",{[`k-picker-${n.kendoThemeMaps.sizeMap[o]||o}`]:o,"k-hidden":"dropdown"!==s}),"aria-label":Pe(t,u),value:C,onChange:t=>(t=>{t.preventDefault(),e.pageChange(t.target.value,t)})(t)},R,w,D),h.createElement("div",{className:"k-pager-numbers",style:{display:"numbers"===s?"":"none"}},x,S,I))},Ge=e=>{const[t,r]=h.useState(e.currentPage),n=l.useInternationalization(),a=l.useLocalization(),o=qe(k,e.messagesMap),s=qe(I,e.messagesMap),c=qe(R,e.messagesMap),u=qe(D,e.messagesMap);return h.createElement("span",{className:"k-pager-input"},h.createElement("span",null,Pe(a,o)),h.createElement(i.NumericTextBox,{value:void 0!==e.currentPage?e.currentPage:t,onChange:t=>{r(t.target.value),t.target.value&&e.pageChange(t.target.value,t)},min:1,spinners:!1,ariaLabel:Pe(a,u),tabIndex:e.navigatable?-1:void 0}),h.createElement("span",null,`${Pe(a,s)} ${n.format(Pe(a,c),[e.totalPages])}`))},_e=e=>{const{value:t,pageSizes:r,pageSize:n,messagesMap:a,size:o,navigatable:i}=e,c=r.slice(),u=l.useLocalization();void 0===t&&0===c.filter((e=>e===n)).length&&c.unshift(n);const d=qe(x,a),p=qe(S,a);return h.createElement("span",{className:"k-pager-sizes"},h.createElement(s.DropDownList,{value:void 0!==t?t:n,data:c,onChange:t=>{e.pageChange&&e.pageChange({skip:0,take:parseInt(t.target.value,10)},t)},ariaLabel:Pe(u,p),size:o,tabIndex:i?-1:void 0}),h.createElement("span",null,Pe(u,d)))},He={name:"@progress/kendo-react-data-tools",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:0,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/"},$e=h.forwardRef(((e,t)=>{n.validatePackage(He);const{buttonCount:r=We.buttonCount,info:i=We.info,type:s=We.type,size:c=We.size,disabled:u=We.disabled,total:d,skip:p,take:m,className:g,style:f,pageSizes:x,pageSizeValue:D,previousNext:S,responsive:N,messagesMap:L,dir:w,navigatable:A}=e,K=l.useLocalization(),T=l.useInternationalization(),M=h.useRef({element:null,props:e}),O=h.useRef(null);h.useImperativeHandle(M,(()=>({get element(){return B()},props:e}))),h.useImperativeHandle(t,(()=>M.current));const B=()=>O.current,[q,P]=h.useState(!0),[z,G]=h.useState(!0);h.useEffect((()=>(window.addEventListener("resize",Y),Y(),()=>{window.removeEventListener("resize",Y)})),[]);const _="rtl"===w,H=Math.floor(p/m)+1,$=Math.ceil((d||0)/m),W=(t,r)=>{e.onPageChange&&t>0&&t<=$&&e.onPageChange({target:M.current,skip:(t-1)*e.take,take:e.take,syntheticEvent:r,nativeEvent:r.nativeEvent,targetEvent:r})},Y=()=>{const e=O.current;if(!e||!N)return;const t=e.offsetWidth;t<600?P(!1):t>=600&&t<768?(G(!1),P(!0)):(G(!0),P(!0))},j=qe(b,L),V=qe(C,L),X=qe(E,L),U=qe(y,L),Q=qe(v,L),Z=qe(F,L),J=qe(k,L),ee=qe(I,L),te=qe(R,L),re=`${K.toLanguageString(J.messageKey,J.defaultMessage)} ${T.format(K.toLanguageString(te.messageKey,te.defaultMessage),[H])} ${K.toLanguageString(ee.messageKey,ee.defaultMessage)} ${T.format(K.toLanguageString(te.messageKey,te.defaultMessage),[$])}`,ne=(e,t,r,n,l,o)=>h.createElement(a.Button,{fillMode:"flat",themeColor:"base",size:c,rounded:null,className:t,icon:n,svgIcon:l,title:r,role:"button","aria-disabled":o,tabIndex:A?-1:void 0,onClick:t=>{t.preventDefault(),W(e,t)}}),ae=x&&h.createElement(_e,{pageChange:(t,r)=>{const n={target:null==M?void 0:M.current,syntheticEvent:r.syntheticEvent,nativeEvent:r.nativeEvent,targetEvent:r,...t};e.onPageChange&&e.onPageChange(n)},pageSize:m,pageSizes:x,value:D,messagesMap:L,size:c,navigatable:A}),le=i&&h.createElement("span",{className:"k-pager-info"},T.format(K.toLanguageString(Q.messageKey,Q.defaultMessage),[Math.min(p+1,d),Math.min(p+m,d),d])),oe="numeric"===s?h.createElement(ze,{type:N&&!q?"dropdown":"numbers",buttonCount:r||0,totalPages:$,currentPage:H,pageChange:W,messagesMap:L,size:c,navigatable:A}):h.createElement(Ge,{buttonCount:r||0,totalPages:$,currentPage:H,pageChange:W,messagesMap:L,size:c,navigatable:A});let ie,se,ce,ue;if(S){const e=Pe(K,j),{rtlClass:t,rtlIcon:r,isDisabledClass:n,isDisabled:a}=((e,t,r)=>({rtlClass:e?"caret-alt-to-right":"caret-alt-to-left",rtlIcon:e?o.caretAltToRightIcon:o.caretAltToLeftIcon,isDisabledClass:"k-pager-nav k-pager-first"+(1!==t||r?"":" k-disabled"),isDisabled:1===t||void 0}))(_,H,u);ie=ne(1,n,e,t,r,a);const l=Pe(K,V),{rtlClass:i,rtlIcon:s,isDisabledClass:c,isDisabled:d}=((e,t,r)=>({rtlClass:e?"caret-alt-right":"caret-alt-left",rtlIcon:e?o.caretAltRightIcon:o.caretAltLeftIcon,isDisabledClass:"k-pager-nav"+(1!==t||r?"":" k-disabled"),isDisabled:1===t||void 0}))(_,H,u);se=ne(H-1,c,l,i,s,d);const p=Pe(K,X),{rtlClass:m,rtlIcon:g,isDisabledClass:h,isDisabled:f}=((e,t,r,n)=>({rtlClass:e?"caret-alt-left":"caret-alt-right",rtlIcon:e?o.caretAltLeftIcon:o.caretAltRightIcon,isDisabledClass:"k-pager-nav"+(t>=r&&!n?" k-disabled":""),isDisabled:t>=r||void 0}))(_,H,$,u);ce=ne(H+1,h,p,m,g,f);const v=Pe(K,U),{rtlClass:b,rtlIcon:C,isDisabledClass:E,isDisabled:y}=((e,t,r,n)=>({rtlClass:e?"caret-alt-to-left":"caret-alt-to-right",rtlIcon:e?o.caretAltToLeftIcon:o.caretAltToRightIcon,isDisabledClass:"k-pager-nav k-pager-last"+(t>=r&&!n?" k-disabled":""),isDisabled:t>=r||void 0}))(_,H,$,u);ue=ne($,E,v,b,C,y)}return h.createElement("div",{ref:O,className:n.classNames("k-pager",{[`k-pager-${n.kendoThemeMaps.sizeMap[c]||c}`]:c,"k-disabled":u},g),style:f,role:"application","aria-roledescription":"pager",dir:w,"aria-keyshortcuts":K.toLanguageString(Z.messageKey,Z.defaultMessage),"aria-label":re,tabIndex:A?0:void 0,onKeyDown:e=>{const t=O.current,r=e.keyCode;!t||!A||((r===n.Keys.home||e.metaKey&&r===n.Keys.left)&&W(1,e),(r===n.Keys.end||e.metaKey&&r===n.Keys.right)&&W($,e),document.activeElement===t?(r===n.Keys.enter&&(n.focusFirstFocusableChild(t),n.enableNavigatableContainer(t)),(r===n.Keys.left||r===n.Keys.up)&&W(H-1,e),(r===n.Keys.right||r===n.Keys.down)&&W(H+1,e)):(r===n.Keys.esc&&(t.focus(),n.disableNavigatableContainer(t)),n.keepFocusInContainer(e,t,n.TABBABLE_ELEMENTS)))}},h.createElement("div",{className:n.classNames("k-pager-numbers-wrap")},ie,se,oe,ce,ue),N?q&&ae:ae,N?z&&le:le)})),We={buttonCount:10,info:!0,type:"numeric",size:"medium",disabled:!1};$e.displayName="Pager",$e.propTypes={className:r.string,style:r.object,total:r.number.isRequired,skip:r.number.isRequired,take:r.number.isRequired,buttonCount:r.number,info:r.bool,type:r.oneOf(["numeric","input"]),pageSizes:r.oneOfType([r.arrayOf(r.number.isRequired),r.arrayOf(r.oneOfType([r.number.isRequired,r.string.isRequired]).isRequired)]),previousNext:r.bool,onPageChange:r.func,messagesMap:r.func,size:r.oneOf([null,"small","medium","large"]),dir:r.string,disabled:r.bool};let Ye=class extends h.Component{constructor(){super(...arguments),this.draggable=null,this.isDragged=!1,this.onDrag=e=>{this.isDragged=!0;const t=this.draggable&&this.draggable.element;t&&this.props.resize(e.event,t,!1)},this.onRelease=e=>{if(!this.isDragged)return;const t=this.draggable&&this.draggable.element;t&&this.props.resize(e.event,t,!0),this.isDragged=!1},this.onDoubleClick=e=>{if(this.isDragged)return;const t=this.draggable&&this.draggable.element;t&&this.props.autofit&&this.props.autofit(e,t)}}render(){return h.createElement(n.Draggable,{onPress:e=>{e.event.originalEvent.stopPropagation()},onDrag:this.onDrag,onRelease:this.onRelease,autoScroll:{direction:{vertical:!1,horizontal:!0}},ref:e=>{this.draggable=e}},h.createElement("span",{className:"k-column-resizer",style:{touchAction:"none"},draggable:!1,onDoubleClick:this.onDoubleClick}))}};const je="data-keyboardnavlevel",Ve="data-keyboardnavscope",Xe="data-keyboardnavheader",Ue="data-keyboardnavbody",Qe="data-keyboardnavid",Ze="_filter",Je="k-grid-cancel-command",et="k-grid-edit-command",tt={[Ve]:!0},rt={[Xe]:!0},nt={[Ue]:!0},at=(e,t,r="cell")=>`${t}_${e}_${r}`,lt=e=>{if(!e)return;return e.getAttribute(Qe)||void 0},ot=e=>!!e&&!!e.getAttribute(Qe),it=e=>e&&e.parentElement&&e.parentElement.closest(`[${je}]`),st=(e,t)=>e.querySelector(`[${Qe}='${t}']`),ct=e=>document.querySelector(`[data-keyboardnavid="${e}"]`);async function ut(e,t,r=5e3){const n=Date.now();if(t)for(;Date.now()-n<r;){const r=t.querySelector(e);if(r)return r;await new Promise((e=>setTimeout(e,20)))}return!1}const dt=e=>e.querySelector(`[${Xe}]`),pt=e=>e.querySelector(`[${Ue}]`),mt=(e,t)=>{const{scope:r,navigationStateRef:n,contextStateRef:a}=e;if(!n.current||!r)return;const l=Et(n.current.navigationMatrix),o=st(r,l);gt({elementForFocus:o,contextStateRef:a,event:t})},gt=e=>{const{elementForFocus:t,event:r,contextStateRef:n,prevElement:a}=e;if(n.current&&t&&t.focus){null==r||r.preventDefault();const e=t.querySelector(".k-checkbox-wrap .k-checkbox");e&&e.focus?e.focus():t.focus(),ot(t)&&(t.setAttribute("tabIndex","0"),n.current.activeId=lt(t)),a&&ot(a)&&a.setAttribute("tabIndex","-1")}},ht=(e,t,r,n,a)=>{if(!r)return[];let l=e+(a?-1:1);for(;l>=0&&l<n.length;){const e=n[l][t];if(e!==r)return[e,[l,t]];l+=a?-1:1}return[]},ft=(e,t,r,n,a)=>{if(!r)return[];let l=t+(a?-1:1);for(;l>=0&&n[e]&&l<n[e].length;){const t=n[e][l];if(t!==r)return[t,[e,l]];l+=a?-1:1}return[]},vt=(e,t)=>{if(t)for(let r=0;r<e.length;r++)for(let n=0;n<e[r].length;n++)if(e[r][n]===t)return[r,n]},bt=(e,t,r)=>{let n;do{if(n=t[r-(e+=1)],n&&n.editable)break}while(r-e>=0);return n},Ct=(e,t,r)=>{let n;do{if(n=t[r+(e+=1)],n&&n.editable)break}while(r+e-1<t.length);return n},Et=e=>e.flat().find((e=>e.endsWith("cell"))),yt=e=>e?`${e}${Ze}`:"",xt={generateNavigatableId:at,getNavigatableId:lt,getNavigatableLevel:e=>{if(e)return parseInt(e.getAttribute(je)||"",10)},getNavigatableElement:(e,t={level:0})=>e.querySelector(`[${je}='${t.level}']`),getClosestNavigatableElement:it,getActiveNavDataElement:st,getClosestScope:e=>e&&e.parentElement&&e.parentElement.closest(`[${Ve}]`),getHeaderElement:dt,getBodyElement:pt,getFocusableElements:(e,t={focusable:!1})=>{const r=t.focusable?n.FOCUSABLE_ELEMENTS:n.TABBABLE_ELEMENTS;return Array.from(e.querySelectorAll(r.join(",")))},getNavigatableElements:(e,t={level:0})=>{if(!e)return[];const r=n.FOCUSABLE_ELEMENTS.map((e=>e+`[${je}='${t.level}']`)).join(",");return Array.from(e.querySelectorAll(r))},filterNavigatableElements:(e={level:0})=>{const t=n.FOCUSABLE_ELEMENTS.map((t=>t+`[${je}='${e.level}']`)).join(",");return e=>e.matches(t)},focusElement:gt,getIdPrefix:e=>e.current?e.current.idPrefix:"",isNavigatable:ot,findNextIdByRowIndex:ht,findNextIdByCellIndex:ft,findId:vt,getNextNavigationIndex:e=>e.current?e.current.navigationMatrix.length:0,getFilterColumnId:yt,focusFirstDataElement:mt,getClosestCancelButton:e=>{const t=e&&e.parentElement&&e.parentElement.closest(".k-grid-edit-row");return t&&t.querySelector("."+Je)},getClosestEditButton:async e=>{const t=e&&e.parentElement&&e.parentElement.closest(".k-grid-edit-row");return await ut("."+et,t)},getRowAriaRowIndex:e=>{var t;const r=e&&e.parentElement&&e.parentElement.closest(".k-table-row");let n;return null==(t=null==r?void 0:r.parentElement)||t.childNodes.forEach((e=>{if(r===e){const t=e.previousSibling;n={current:r.getAttribute("aria-rowindex"),prev:t&&t.getAttribute("aria-rowindex")}}})),n},getRemoveButtonByAriaRowIndex:e=>document.querySelector(`[aria-rowindex="${e}"] .k-grid-remove-command`),getTableCellByKeyboardNavId:ct,getParentCell:e=>(null==e?void 0:e.closest(".k-table-td"))||null,waitForElementToBeVisible:ut,getNextEditableCell:(e,t,r,n)=>{var a;let l;if(e){const[a,o]=e;let i,s=0;i=Ct(s,t,o),i?l=ft(a,i.ariaColumnIndex,r,n,!0):(s=-1,i=Ct(s,t,0),l=ft(a+1,i.ariaColumnIndex,r,n,!0))}return{nextCell:l&&l[0]&&ct(l[0]),elementToFocus:l&&l[0]&&(null==(a=ct(l[0]))?void 0:a.getAttribute("role"))}},getPrevEditableCell:(e,t,r,n)=>{var a;let l;const[o,i]=e;let s;const c=t.length;return s=bt(0,t,i),s?l=ft(o,s.ariaColumnIndex,r,n,!0):(s=bt(0,t,c),l=ft(o-1,s.ariaColumnIndex,r,n,!0)),{prevCell:l&&l[0]&&ct(l[0]),elementToFocus:l&&l[0]&&(null==(a=ct(l[0]))?void 0:a.getAttribute("role"))}},getClosestCellNavId:e=>{var t;return(null==(t=it(e))?void 0:t.getAttribute("data-keyboardnavid"))||e.getAttribute("data-keyboardnavid")}},kt={filterable:!0,editable:!0,sortable:!0,resizable:!0,reorderable:!0,groupable:!0};function It(e,t){const r=e[t].depth;let n=null;for(let a=t+1;a<e.length;a++)if(e[a].depth===r){n=e[a];break}return n}const Rt=e=>{let t=e.width?parseFloat(e.width.toString()):0;return!t&&e.children&&e.children.length&&(t=e.children.reduce(((e,t)=>Rt(t)+e),0)),t};function Dt(e,t,r){const n=new Array(e.length).fill(0);let a=0;t.forEach((e=>{if(e.locked&&(!e.left||r))if(e.left=n[e.depth],a=Rt(e),0===e.children.length)for(let t=e.depth;t<n.length;t++)n[t]+=a;else n[e.depth]+=a}))}function Ft(e,t,r){let n=0;const a=new Array(e.length).fill(0);for(let e=t.length-1;e>=0;e--){const l=t[e];if(l.locked&&(!l.right||r)){if(l.right=a[l.depth],n=Rt(l),0===l.children.length)for(let e=l.depth;e<a.length;e++)a[e]+=n;else a[l.depth]+=n;const r=It(t,e);l.rightBorder=!(r&&r.locked)}}}function St(e){return!(!e||"rtl"!==getComputedStyle(e).direction)}function Nt(e,t){if(!t||!e||!e.originalEvent)return-1;const r={x:e.clientX,y:e.originalEvent.clientY};let n=t.ownerDocument?t.ownerDocument.elementFromPoint(r.x,r.y):null;for(;n&&n.parentElement!==t;)n=n.parentElement;if(!n&&t.matches("tr")){const e=e=>{const t=e.getBoundingClientRect();return r.x>t.left&&r.x<t.left+t.width&&r.y>t.top&&r.y<t.top+t.height};n=Array.from(t.children).find(e)||null}const a=t.children;for(let e=0;e<a.length;e++)if(a[e]===n)return e;return-1}let Lt=class extends h.PureComponent{constructor(e){super(e),this.elementRef=h.createRef(),this.state={visible:!1,top:0,left:0,innerText:"",status:"k-i-cancel"},this.hiddenElementRef=h.createRef()}get element(){return this.elementRef.current||this.hiddenElementRef.current}render(){const e=this.hiddenElementRef.current,{status:t}=this.state,r=this.state.visible&&n.canUseDOM&&c.createPortal(h.createElement("div",{ref:this.elementRef,className:"k-header k-drag-clue",style:{display:"block",position:"absolute",zIndex:2e4,padding:"8px 12px",top:this.state.top+"px",left:this.state.left+"px"}},h.createElement(n.IconWrap,{className:"k-drag-status",name:t,icon:"k-i-cancel"===t?o.cancelIcon:o.plusIcon}),this.state.innerText),e&&e.ownerDocument?e.ownerDocument.body:document.body);return h.createElement(h.Fragment,null,r,h.createElement("div",{ref:this.hiddenElementRef,style:{display:"none"}}))}},wt=class extends h.PureComponent{constructor(e){super(e),this.state={height:0,visible:!1,left:0,top:0},this.hiddenElementRef=h.createRef()}render(){const e=this.hiddenElementRef.current,t=this.state.visible&&n.canUseDOM&&c.createPortal(h.createElement("div",{className:"k-grouping-dropclue",style:{zIndex:1e4,display:"block",top:this.state.top+"px",left:this.state.left+"px",height:this.state.height+"px"}}),e&&e.ownerDocument?e.ownerDocument.body:document.body);return h.createElement(h.Fragment,null,t,h.createElement("div",{ref:this.hiddenElementRef,style:{display:"none"}}))}};function At(e,t,r){return r?{...e,[t]:r.length?[...r]:void 0}:e&&e[t]?[...e[t]]:[]}function Kt(e,t,r){if(e[r]){const n=At(e,r,u.orderBy(At(e,r),t)),a=At(n,r).map((e=>Kt(e,t,r)));return{...n,[r]:a}}return e}function Tt(e,t,r){let n=At(e,r);if(n&&n.length){n=n.map((e=>Tt(e,t,r)));const a=u.filterBy(n,{filters:[{filters:t,logic:"and"},{operator:e=>!!(e[r]||[]).length}],logic:"or"});return At(e,r,a)}return e}const Mt=(e,t,r)=>{const n=e[r]||[],a=n.findIndex(t);if(-1!==a){const t=[...n];return t.splice(a,1),{...e,[r]:t}}return e},Ot=(e,t,r)=>n.getItemPath(e,t,r),Bt="groupId",qt="items",Pt=(e,t,r)=>{e.items&&(e[Bt]=`${r}${r&&"_"}${e.value}${e.field}`,t>1&&e.items.forEach((r=>Pt(r,t-1,e[Bt]))))},zt=h.createContext(void 0);zt.displayName="KendoReactTableKeyboardNavigationContext";const Gt=(e,t)=>{const r=h.useContext(zt);return r&&e&&!1!==t?{tabIndex:r&&r.activeId&&r.activeId===e?0:-1,[je]:r.level,[Qe]:e}:{}};var _t=(e=>(e.incell="incell",e.inline="inline",e))(_t||{});const Ht=e=>{const{navigatable:t,contextStateRef:r,navigationStateRef:a,idPrefix:l}=e;t&&(r.current={activeId:"",level:0},a.current={activeElementIsFocused:!1,prevNavigationIndexes:void 0,idPrefix:l||n.guid(),navigationMatrix:[],lastHeaderIndex:-1})},$t=e=>{const{scope:t,contextStateRef:r,navigationStateRef:n}=e;if(r.current&&n.current&&t){Wt(e);const a=Et(n.current.navigationMatrix);if(a){const e=xt.getActiveNavDataElement(t,a);e&&(r.current.activeId=a,e.setAttribute("tabIndex","0"))}}},Wt=e=>{const{navigationStateRef:t,scope:r}=e;if(!t.current||!r)return;const n=[],a=dt(r),l=pt(r),o=(e=>e.querySelector(".k-grid-norecords"))(r)||{children:[]};if(!a||!l)return;const i=Array.from(a.children),s=Array.from(l.children);[...i,...s,o].forEach(((e,t)=>{Array.from(e.children).forEach((e=>{const r=lt(e);if(!r)return;const a=e.rowSpan||1,l=e.colSpan||1;let o;for(let e=t,l=t+a;e<l;e++){if(n[e]||(n[e]=[]),void 0===o){const t=n[e].findIndex((e=>!e));o=t>-1?t:n[e].length}n[e][o]=r||""}for(let e=o+1,a=o+l;e<a;e++)n[t][e]=r||""}))})),t.current.navigationMatrix=n.filter((e=>!!e)),t.current.lastHeaderIndex=i.length-1},Yt={onConstructor:Ht,onComponentDidMount:$t,onGetSnapshotBeforeUpdate:e=>{const{contextStateRef:t,navigationStateRef:r,document:a}=e;if(t.current&&r.current&&a){const e=n.getActiveElement(a),l=xt.getNavigatableId(e);l&&l===t.current.activeId&&(r.current.activeElementIsFocused=!0)}},onComponentDidUpdate:e=>{const{scope:t,contextStateRef:r,navigationStateRef:n,focusFirst:a,newEditableRow:l,singleEditRow:o,lastActiveElement:i,navigatable:s}=e;if(a&&(Ht(e),$t(e),mt(e)),(!s||s&&s.mode===_t.inline)&&(l&&!o||l&&o&&!i)?(e=>{const t=e.querySelector(".k-grid-edit-cell"),r=t&&t.querySelector("input");r?r.focus():t&&t.firstChild.focus()})(l):s&&s.mode===_t.inline&&l&&o&&i&&i.focus(),Wt(e),r.current&&n.current&&t){if(!xt.getActiveNavDataElement(t,r.current.activeId)){const e=-1===t.className.indexOf("k-treelist")?Et(n.current.navigationMatrix):n.current.navigationMatrix[0][0],a=xt.getActiveNavDataElement(t,e);e&&a&&(r.current.activeId=e,a.setAttribute("tabIndex","0"),n.current.activeElementIsFocused&&a.focus())}n.current.activeElementIsFocused=!1}},onFocus:(e,t)=>{const{contextStateRef:r}=t;if(e.isDefaultPrevented()||!r.current)return;const a=e.target,l=xt.getNavigatableId(a);if(l&&l!==r.current.activeId){const t=xt.getClosestScope(a);if(!t)return;const n=xt.getActiveNavDataElement(t,r.current.activeId);n&&!e.target.classList.contains("k-table-td")&&!e.target.classList.contains("k-detail-cell")&&n.setAttribute("tabIndex","-1"),a.setAttribute("tabIndex","0"),r.current.activeId=l}else if(a.closest(".k-filtercell")&&t.navigatable){const e=a.closest(".k-table-td");n.enableNavigatableContainer(e)}},onKeyDown:async(e,t)=>{var r,a,l,o;const{contextStateRef:i,navigationStateRef:s,onNavigationAction:c,columns:u}=t;if(e.isDefaultPrevented()||!i.current||!s.current)return;let d;if(e.keyCode===n.Keys.esc&&!t.navigatable.mode)return d=xt.getClosestNavigatableElement(e.target),xt.focusElement({elementForFocus:d,event:e,contextStateRef:i}),void(e.target.closest(".k-filtercell")&&d&&t.navigatable&&n.disableNavigatableContainer(d));const p=e.target,m=-1===p.className.indexOf("k-checkbox")?p:xt.getClosestNavigatableElement(p),g=xt.getNavigatableId(m)||(null==(r=xt.getParentCell(m))?void 0:r.getAttribute("data-keyboardnavid")),h=null==g?void 0:g.endsWith("column"),f=xt.getNavigatableLevel(m),v=xt.getClosestScope(m),b=s.current.navigationMatrix,C=e.metaKey||e.ctrlKey,E=((e,t,r)=>{let n;if(e.current&&e.current.prevNavigationIndexes){const[a,l]=e.current.prevNavigationIndexes,o=t[a];n=o&&o[l]===r?e.current.prevNavigationIndexes:vt(t,r)}else n=vt(t,r);return n})(s,b,g),y=m.closest(".k-table-td");if(t.navigatable&&t.navigatable.mode===_t.inline){if(e.keyCode===n.Keys.enter){const e=m.classList.contains("k-grid-remove-command"),t=m.classList.contains("k-grid-cancel-command"),r=xt.getRowAriaRowIndex(m);if(e)return void setTimeout((()=>{const e=xt.getRemoveButtonByAriaRowIndex(r.current)||xt.getRemoveButtonByAriaRowIndex(r.prev);e&&e.focus()}));if(t&&m.parentElement){const e=null==(a=xt.getClosestNavigatableElement(m))?void 0:a.getAttribute("data-keyboardnavid");return void setTimeout((()=>{e&&xt.getTableCellByKeyboardNavId(e).focus()}))}}if(e.keyCode===n.Keys.esc){const e=xt.getClosestCancelButton(m);e&&e.click();const t=await xt.getClosestEditButton(m);return void(t&&t.focus())}}else if(t.navigatable&&t.navigatable.mode===_t.incell){const t=null==(l=m.closest(".k-table-td"))?void 0:l.classList.contains("k-grid-edit-cell");if(e.keyCode===n.Keys.esc){m.focus(),m.blur();const e=p&&p.parentElement&&p.parentElement.closest(".k-grid-edit-row"),t=xt.getClosestCellNavId(m),r=await xt.waitForElementToBeVisible(`[data-keyboardnavid='${t}']:not(.k-grid-edit-cell)`,e);r&&r.focus()}else if(e.keyCode===n.Keys.enter){let e;if(E){const[t,r]=E;e=ht(t,r,g,b,!1)}if(t){if(t&&e){const t=e&&e[0]&&xt.getTableCellByKeyboardNavId(e[0]);t&&t.click()}}else null==(o=xt.getParentCell(m))||o.click()}else if(e.keyCode===n.Keys.left){if(t)return}else if(e.keyCode===n.Keys.right){if(t)return}else if(e.keyCode===n.Keys.up){if(t)return}else if(e.keyCode===n.Keys.down){if(t)return}else if(e.keyCode===n.Keys.tab&&t){if(e.shiftKey){const t=E&&u&&xt.getPrevEditableCell(E,u,g,b);if(t&&t.prevCell&&t.prevCell.click(),t&&"gridcell"!==t.elementToFocus){m.blur();const e=xt.getClosestCellNavId(m);setTimeout((()=>{e&&xt.getTableCellByKeyboardNavId(e).focus()}))}e.preventDefault()}else{const t=E&&u&&xt.getNextEditableCell(E,u,g,b);if(t&&t.nextCell&&"gridcell"===t.elementToFocus&&t.nextCell.click(),t&&"gridcell"!==t.elementToFocus){m.blur();const e=xt.getClosestCellNavId(m);return void(e&&xt.getTableCellByKeyboardNavId(e).focus())}e.preventDefault()}e.preventDefault()}}if(m.closest(".k-filtercell")&&y&&t.navigatable&&n.keepFocusInContainer(e,y,n.TABBABLE_ELEMENTS),void 0!==f&&v){if(e.keyCode===n.Keys.enter){const r=xt.getNavigatableElement(m,{level:f+1});return r?void xt.focusElement({elementForFocus:r,event:e,contextStateRef:i,prevElement:m}):(m.querySelector(".k-filtercell")&&t.navigatable&&n.enableNavigatableContainer(m),d=xt.getFocusableElements(m)[0],void xt.focusElement({elementForFocus:d,event:e,contextStateRef:i,prevElement:m}))}if(e.keyCode===n.Keys.home&&E)if(C)mt({scope:v,navigationStateRef:s,contextStateRef:i},e);else{const t=((e,t)=>e[t][0])(s.current.navigationMatrix,E[0]);d=xt.getActiveNavDataElement(v,t),xt.focusElement({elementForFocus:d,event:e,contextStateRef:i})}if(e.keyCode===n.Keys.end&&E)if(C){const t=(e=>e.flat().reverse().find((e=>e.endsWith("cell"))))(s.current.navigationMatrix);d=xt.getActiveNavDataElement(v,t),xt.focusElement({elementForFocus:d,event:e,contextStateRef:i})}else{const t=((e,t)=>Array.from(e[t]).reverse()[0])(s.current.navigationMatrix,E[0]);d=xt.getActiveNavDataElement(v,t),xt.focusElement({elementForFocus:d,event:e,contextStateRef:i})}if(e.keyCode===n.Keys.up||e.keyCode===n.Keys.down||e.keyCode===n.Keys.left||e.keyCode===n.Keys.right){const t=e.keyCode===n.Keys.up||e.keyCode===n.Keys.left,r=e.keyCode===n.Keys.up||e.keyCode===n.Keys.down;if(E){const[n,a]=E,[l,o]=r?ht(n,a,g,b,t):ft(n,a,g,b,t);l&&(d=xt.getActiveNavDataElement(v,l),xt.focusElement({elementForFocus:d,event:e,contextStateRef:i,prevElement:m}),s.current.prevNavigationIndexes=o)}}if(C&&e.keyCode===n.Keys.left&&h)return c&&c({focusElement:m,event:e,action:"reorderToLeft"}),void e.preventDefault();if(C&&e.keyCode===n.Keys.right&&h)return c&&c({focusElement:m,event:e,action:"reorderToRight"}),void e.preventDefault();if(e.keyCode===n.Keys.pageUp)return c&&c({focusElement:d,event:e,action:"moveToNextPage"}),void e.preventDefault();if(e.keyCode===n.Keys.pageDown)return c&&c({focusElement:d,event:e,action:"moveToPrevPage"}),void e.preventDefault();c&&c({focusElement:d,event:e})}},generateMatrix:Wt,focusFirstDataElement:mt},jt="data-grid-row-index",Vt="data-grid-col-index",Xt="data-prevent-selection",Ut={},Qt=e=>{let t=e;for(;t;){if(t.hasAttribute(Xt))return!0;t=t.parentElement}return!1},Zt=(e,t)=>{let r=e;for(;r;){if(r.tagName===t)return r;if("TABLE"===r.tagName)return null;r=r.parentElement}return null},Jt=e=>{if(!e)return;const t=e.getAttribute(jt);return t?parseInt(t,10):void 0},er=e=>{if(!e)return;const t=e.getAttribute(Vt);return t?parseInt(t,10):void 0},tr=e=>{const{event:t,dataItemKey:r,selectedState:a}=e,{dataItems:l,startRowIndex:o,endRowIndex:i,startColIndex:s,endColIndex:c,cell:u,isDrag:d,ctrlKey:p,shiftKey:m,metaKey:g,componentId:h,mode:f,dataItem:v}=t,b=n.getter(r);let C={};const E=null!==v;if("single"===f){const e=l.slice(o,o+1)[0],t=b(e);Ut[h]={rowIndex:o,colIndex:s},C[t]=!u||[s]}else if(!d&&(m||p||g||E)){if(p||g||E){Ut[h]={rowIndex:o,colIndex:s};const e=l.slice(o,i+1)[0],t=b(e);C={...a},C[t]=u&&!E?((e,t)=>!e||Array.isArray(e)&&0===e.length?[t]:e.findIndex((e=>e===t))>-1?e.filter((e=>e!==t)):[...e,t])(C[t],s):!C[t]}else if(m){const e=Ut[h]&&Ut[h].rowIndex||0,t=Ut[h]&&Ut[h].colIndex||0,r=Math.min(e,o,i),n=Math.max(e,o,i),a=Math.min(t,s,c),d=Math.max(t,s,c),p=[];for(let e=a;e<=d;e++)p.push(e);l.slice(r,n+1).forEach((e=>{const t=b(e);C[t]=!u||[...p]}))}}else{d||(Ut[h]={rowIndex:o,colIndex:s});const e=[];for(let t=s;t<=c;t++)e.push(t);l.slice(o,i+1).forEach((t=>{const r=b(t);C[r]=!u||[...e]}))}return C},rr=n.hasRelativeStackingContext(),nr=e=>{if(!e||!rr)return null;let t=e.parentElement;for(;t;){if("none"!==window.getComputedStyle(t).transform)return t;t=t.parentElement}},ar=e=>{if(e&&e.ownerDocument&&e!==e.ownerDocument.body){const t=e.getBoundingClientRect();return{left:t.left-e.scrollLeft,top:t.top-e.scrollTop}}return{left:0,top:0}},lr=e=>({enabled:!!e&&("boolean"!=typeof e.enabled||e.enabled),drag:!!e&&!!e.drag,mode:e&&e.mode?e.mode:"multiple",cell:!(!e||!e.cell)});var or=(e=>(e.copy="copy",e.cut="cut",e.paste="paste",e))(or||{});const ir=e=>class extends h.Component{constructor(){super(...arguments),this.filterChange=e=>{this.props.onFilterChange&&this.props.onFilterChange(e)},this.inputChange=t=>{const r=t.target.value,{filter:n=[],field:a=""}=this.props,l=this.findCellFilter(),o=l?n.map((e=>e.field===a?{...l,value:r}:e)):[...n,{...e.emptyFilter,value:r,field:a}];this.filterChange({filter:o,field:a,syntheticEvent:t.syntheticEvent})},this.operatorChange=t=>{const{operator:r}=t.target.value,{filter:n=[],field:a=""}=this.props,l=this.findCellFilter(),o=l?n.map((e=>e.field===a?{...l,operator:r}:e)):[...n,{...e.emptyFilter,field:a,operator:r}];this.filterChange({filter:o,field:a,syntheticEvent:t.syntheticEvent})},this.clearButtonClick=e=>{const{filter:t=[],field:r=""}=this.props;this.filterChange({filter:t.filter((e=>e.field!==r)),field:r,syntheticEvent:e})},this.findCellFilter=()=>{const{filter:e=[],field:t}=this.props;return e.find((e=>e.field===t))}}render(){const{clearButtonTitle:t="",operators:r=[]}=this.props,l=this.findCellFilter()||{...e.emptyFilter,operator:""},{operator:i,value:s}=l,c={ariaLabel:"filter",value:r.find((e=>e.operator===i))||null,onChange:this.operatorChange,className:"k-dropdown-operator",iconClassName:"k-i-filter",svgIcon:o.filterIcon,data:r,textField:"text",popupSettings:{width:""},components:this.props.components};return h.createElement("div",{className:"k-filtercell"},h.createElement("span",null,e.inputComponent({value:s,onChange:this.inputChange,components:this.props.components,ariaLabel:this.props.ariaLabel,min:this.props.min,max:this.props.max}),h.createElement("div",{className:"k-filtercell-operator"},e.operatorComponent(c,this.props)," ",h.createElement(a.Button,{className:n.classNames({"k-clear-button-visible":!(null===s||""===s)||i}),title:t,type:"button",onClick:this.clearButtonClick,icon:"filter-clear",svgIcon:o.filterClearIcon,disabled:!(null!==s&&""!==s||i)}))))}},sr={emptyFilter:{operator:"eq",value:""},inputComponent:e=>null,operatorComponent:function(e,t){const{filter:r=[],field:n}=t,a=r.find((e=>e.field===n));return h.createElement(s.DropDownList,{...e,value:e.data.find((e=>e.operator===(a?a.value:""))),onChange:e=>{if(!t.onFilterChange)return;const l=e.target.value.operator;if(""===l)return void(a&&t.onFilterChange.call(void 0,{filter:r.filter((e=>e.field!==a.field)),field:n,syntheticEvent:e.syntheticEvent}));const o=a?r.map((e=>e.field===n?{...a,value:l}:e)):[...r,{value:l,field:n,operator:"eq"}];t.onFilterChange.call(void 0,{filter:o,field:n,syntheticEvent:e.syntheticEvent})}})}};let cr=class extends(ir(sr)){};const ur={inputComponent:e=>h.createElement(d.DatePicker,{...e}),operatorComponent:e=>h.createElement(s.DropDownList,{...e}),emptyFilter:{operator:"eq",value:null}};let dr=class extends(ir(ur)){};const pr={inputComponent:e=>h.createElement(i.NumericTextBox,{...e}),operatorComponent:e=>h.createElement(s.DropDownList,{...e}),emptyFilter:{operator:"eq",value:null}};let mr=class extends(ir(pr)){};const gr={inputComponent:e=>h.createElement(i.Input,{...e}),operatorComponent:e=>h.createElement(s.DropDownList,{...e}),emptyFilter:{operator:"contains",value:""}};let hr=class extends(ir(gr)){};const fr=e=>{const{ariaSort:t,colSpan:r,rowSpan:a,columnId:l,navigatable:o,ariaColumnIndex:i,ariaLabel:s,ariaSelected:c,ariaDescription:u,...d}=e,p=Gt(l,o),m=h.useRef(null);return h.useEffect((()=>{m.current&&o&&n.disableNavigatableContainer(m.current)}),[o]),h.createElement("td",{ref:m,"aria-sort":t,"aria-label":s,"aria-colindex":i,"aria-selected":c,colSpan:r,rowSpan:a,...p,...d},e.children)};fr.displayName="KendoReactHeaderTdElement";const vr="k-table-row k-filter-row",br=(e,t,r)=>{let n=""+(r?"k-grid-header-sticky":"");return e.some((e=>e.field===t))&&(n+=" k-sorted"),n};let Cr=class extends h.Component{constructor(){super(...arguments),this.element=null}componentDidMount(){const{columnResize:e}=this.props;e&&e.resizable&&e.setIsRtl(St(this.element))}render(){return h.createElement("thead",{className:n.classNames("k-table-thead k-grid-header",{"k-grid-draggable-header":this.props.reorderable}),role:"presentation",ref:e=>this.element=e,...rt},this.props.headerRow,this.props.filterRow)}};function Er(e){const t=e.onClick?{onClick:e.onClick}:{},r=h.createElement("span",{className:"k-link",...t},h.createElement("span",{className:"k-column-title"},e.title||e.field||" "),e.children);return h.createElement(h.Fragment,null,e.render?e.render.call(void 0,r,e):r)}const yr=(...e)=>Object.assign({allowUnsort:!0,mode:"single"},...e);let xr=class extends h.PureComponent{constructor(){super(...arguments),this.draggable=null,this.onPress=e=>{const t=this.draggable&&this.draggable.element;t&&this.props.pressHandler&&this.props.pressHandler(e.event,t)},this.onDrag=e=>{const t=this.draggable&&this.draggable.element;t&&this.props.dragHandler&&this.props.dragHandler(e.event,t)},this.onRelease=e=>{this.draggable&&this.draggable.element&&this.props.releaseHandler&&this.props.releaseHandler(e.event)}}render(){return h.createElement(n.Draggable,{onPress:this.onPress,onDrag:this.onDrag,onRelease:this.onRelease,ref:e=>{this.draggable=e},autoScroll:{direction:{vertical:!1,horizontal:!0}}},h.createElement("tr",{className:"k-table-row","aria-rowindex":this.props.ariaRowIndex,role:"row"},this.props.children))}};const kr=e=>{const{ariaSort:t,colSpan:r,rowSpan:a,columnId:l,navigatable:o,ariaColumnIndex:i,ariaLabel:s,ariaSelected:c,ariaDescription:u,...d}=e,p=Gt(l,o),m=h.useRef(null);return h.useEffect((()=>{m.current&&o&&n.disableNavigatableContainer(m.current)}),[o]),h.createElement("th",{ref:m,"aria-sort":t,"aria-label":s,"aria-colindex":i,"aria-selected":c,colSpan:r,rowSpan:a,...p,...d},e.children)};kr.displayName="KendoReactHeaderThElement";const Ir={true:{asc:"desc",desc:"","":"asc"},false:{asc:"desc",desc:"asc","":"asc"}},Rr={none:"none",asc:"ascending",desc:"descending"};class Dr extends h.Component{constructor(){super(...arguments),this.cellClick=(e,t)=>{if(e.preventDefault(),!this.props.sortChange)return;const{allowUnsort:r,mode:n}=yr(this.props.sortable||!1,t.sortable||!1),a=(this.props.sort||[]).filter((e=>e.field===t.field))[0],l=Ir[r][a&&a.dir||""],o="single"===n?[]:(this.props.sort||[]).filter((e=>e.field!==t.field));""!==l&&t.field&&o.push({field:t.field,dir:l}),this.props.sortChange(e,o,t.field)},this.cellKeyDown=(e,t)=>{e.isDefaultPrevented()||e.keyCode===n.Keys.enter&&this.cellClick(e,t)},this.cells=e=>e.map(((e,t)=>{const r=this.props.columns[e],{columnResize:a}=this.props,o=a&&a.resizable&&r.resizable,i=this.props.sortable&&r.sortable,s=this.props.sort?this.props.sort.findIndex((e=>e.field===r.field)):-1,c=s>=0&&this.props.sort[s].dir||"none",u={sort:this.props.sort,onSortChange:this.props.sortChange,filter:this.props.columnMenuFilter,onFilterChange:this.props.columnMenuFilterChange,field:r.field},d={field:r.field,onClick:i&&(e=>this.cellClick(e,r))||void 0,selectionChange:this.props.selectionChange,title:r.title,selectionValue:r.headerSelectionValue,render:this.props.cellRender,children:this.sortIcon(s),sort:this.props.sort,sortable:this.props.sortable,sortChange:this.props.sortChange,filterChange:this.props.filterChange,columns:this.props.columns,columnMenuWrapperProps:u},p=r.columnMenu||this.props.columnMenu,m=n.classNames("k-table-th",{"k-first":r.kFirst,"k-filterable":!!p,"k-header":!0,"k-grid-header-sticky":r.locked,"k-sorted":this.props.sort&&this.props.sort.some((e=>e.field===r.field))},r.headerClassName),g=void 0!==r.locked?{left:r.left,right:r.right,borderRightWidth:r.rightBorder?"1px":""}:{},f=l.provideLocalizationService(this).toLanguageString(Me,Be[Me]),v=r.isAccessible?{ariaSort:i?Rr[c]:void 0,role:"columnheader",ariaColumnIndex:r.ariaColumnIndex,ariaSelected:!1,ariaDescription:i?f:""}:{role:"presentation"};return h.createElement(kr,{key:t,colSpan:r.colSpan,rowSpan:r.rowSpan,className:m,style:g,columnId:r.id,navigatable:r.navigatable,onKeyDown:i&&(e=>this.cellKeyDown(e,r))||void 0,...v},r.headerCell&&h.createElement(r.headerCell,{...d}),!r.headerCell&&h.createElement("span",{className:"k-cell-inner"},h.createElement(Er,{...d}),p&&h.createElement(p,{...u})),a&&o&&h.createElement(Ye,{key:"ColumnResizer",resize:(e,t,n)=>a.dragHandler(e,r,t,n)}))}))}sortIcon(e){if(!this.props.sort||e<0)return null;const t=this.props.sort[e].dir;return t?[h.createElement(n.IconWrap,{key:1,name:`sort-${t}-small`,icon:"asc"===t?o.sortAscSmallIcon:o.sortDescSmallIcon}),this.props.sort.length>1&&h.createElement("span",{key:2,className:"k-sort-order"},e+1)]:null}render(){return this.props.columnsMap.map(((e,t)=>this.props.pressHandler&&h.createElement(xr,{key:t,pressHandler:this.props.pressHandler,dragHandler:this.props.dragHandler,releaseHandler:this.props.releaseHandler,ariaRowIndex:t+1},this.cells(e))||h.createElement("tr",{className:"k-table-row","aria-rowindex":t+1,role:"row"},this.cells(e))))}}l.registerForLocalization(Dr);const Fr=class extends h.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onFilterChange.call(void 0,{nextFilter:{...this.props.filter,value:e.value}})}}render(){const e=l.provideLocalizationService(this),{ariaLabel:t=e.toLanguageString(se,Be[se])}=this.props;return h.createElement(i.TextBox,{value:this.props.filter.value||"",onChange:this.onChange,"aria-label":t,tabIndex:-1})}};Fr.propTypes={filter:r.object.isRequired,onFilterChange:r.func.isRequired,ariaLabel:r.string};let Sr=Fr;l.registerForLocalization(Sr);const Nr=class extends h.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onFilterChange.call(void 0,{nextFilter:{...this.props.filter,value:e.value}})}}render(){const e=l.provideLocalizationService(this),{min:t,max:r,filter:n,ariaLabel:a=e.toLanguageString(ie,Be[ie])}=this.props;return h.createElement(i.NumericTextBox,{value:"number"==typeof n.value?n.value:null,onChange:this.onChange,ariaLabel:a,min:t,max:r,tabIndex:-1})}};Nr.propTypes={filter:r.object.isRequired,onFilterChange:r.func.isRequired};let Lr=Nr;l.registerForLocalization(Lr);const wr=class extends h.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onFilterChange.call(void 0,{nextFilter:{...this.props.filter,value:e.value}})}}render(){const e=this.props.filter;return h.createElement(d.DatePicker,{value:e.value||null,onChange:this.onChange,ariaLabel:this.props.ariaLabel,tabIndex:-1})}};wr.propTypes={filter:r.object.isRequired,onFilterChange:r.func.isRequired,ariaLabel:r.string};let Ar=wr;const Kr=class extends h.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onFilterChange.call(void 0,{nextFilter:{...this.props.filter,value:e.value.value}})}}render(){const e=l.provideLocalizationService(this),{filter:t,data:r=[],defaultItem:n,ariaLabel:a=e.toLanguageString(oe,Be[oe])}=this.props,o=r.map((t=>({...t,text:e.toLanguageString(t.text,Be[t.text]||t.text)})));return h.createElement(s.DropDownList,{value:o.find((e=>e.value===t.value))||null,onChange:this.onChange,defaultItem:n,data:o,textField:"text",ariaLabel:a,tabIndex:-1})}};Kr.propTypes={filter:r.object.isRequired,onFilterChange:r.func.isRequired,data:r.arrayOf(r.shape({text:r.string,value:r.any})),defaultItem:r.any,ariaLabel:r.string};let Tr=Kr;l.registerForLocalization(Tr);const Mr=class extends h.Component{constructor(){super(...arguments),this.data=[{text:W,value:!0},{text:Y,value:!1}]}render(){return h.createElement(Tr,{filter:this.props.filter,onFilterChange:this.props.onFilterChange,data:this.props.data||this.data,defaultItem:this.props.defaultItem,ariaLabel:this.props.ariaLabel})}};Mr.propTypes={filter:r.object.isRequired,onFilterChange:r.func.isRequired,data:r.arrayOf(r.shape({text:r.string,value:r.any})),ariaLabel:r.string,defaultItem:r.any};let Or=Mr;const Br=[{text:q,operator:"contains"},{text:P,operator:"doesnotcontain"},{text:w,operator:"eq"},{text:A,operator:"neq"},{text:B,operator:"startswith"},{text:z,operator:"endswith"},{text:K,operator:"isnull"},{text:T,operator:"isnotnull"},{text:M,operator:"isempty"},{text:O,operator:"isnotempty"}],qr=[{text:w,operator:"eq"},{text:A,operator:"neq"},{text:G,operator:"gte"},{text:_,operator:"gt"},{text:H,operator:"lte"},{text:$,operator:"lt"},{text:K,operator:"isnull"},{text:T,operator:"isnotnull"}],Pr=[{text:w,operator:"eq"},{text:A,operator:"neq"},{text:j,operator:"gte"},{text:V,operator:"gt"},{text:X,operator:"lt"},{text:U,operator:"lte"},{text:K,operator:"isnull"},{text:T,operator:"isnotnull"}],zr=[{text:w,operator:"eq"},{text:A,operator:"neq"}];const Gr=e=>"contains"===e||"doesnotcontain"===e||"startswith"===e||"endswith"===e,_r=e=>"isnull"===e||"isnotnull"===e||"isempty"===e||"isnotempty"===e,Hr=e=>{void 0===e.value&&!_r(e.operator)&&(e.value=Gr(e.operator)?"":null)},$r=class extends h.Component{constructor(){super(...arguments),this.onFieldChange=e=>{const t=e.value.name,r=this.props.fields.find((e=>e.name===t)),n=this.props.filter,a=r&&!r.operators.some((e=>e.operator===n.operator))?r.operators[0].operator:n.operator,l={field:t,operator:a};Hr(l),this.triggerOnFilterChange(n,l,e)},this.onOperatorChange=e=>{const t=e.value.operator,r=this.props.filter;let n;if(_r(t)){const{value:e,...a}=r;n={...a,operator:t}}else n={...r,operator:t};Hr(n),this.triggerOnFilterChange(r,n,e)},this.onInputChange=e=>{const t=this.props.filter;let r=e.nextFilter;if(_r(r.operator)){const e=this.props.fields.find((e=>e.name===r.field));r={...r,operator:e&&e.operators[0].operator||r.operator}}this.triggerOnFilterChange(t,r,e)},this.triggerOnFilterChange=(e,t,r)=>{const n={prevFilter:e,nextFilter:t,syntheticEvent:r.syntheticEvent,nativeEvent:r.nativeEvent,target:this};this.props.onChange.call(void 0,n)},this.onFilterRemove=e=>{const t={filter:this.props.filter,syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,target:this};this.props.onRemove.call(void 0,t)}}render(){const e=l.provideLocalizationService(this),{fields:t,filter:r,ariaLabel:n=e.toLanguageString(ne,Be[ne])}=this.props,i=t.find((e=>e.name===r.field)),c=(i&&i.operators||[]).map((t=>({...t,text:e.toLanguageString(t.text,Be[t.text]||t.text)})));return h.createElement("div",{className:"k-filter-toolbar"},h.createElement(a.Toolbar,{keyboardNavigation:!1,role:"toolbar",ariaLabel:n},h.createElement(a.ToolbarItem,{className:"k-filter-field"},h.createElement(s.DropDownList,{tabIndex:-1,data:t,textField:"label",value:t.find((e=>e.name===r.field)),onChange:this.onFieldChange,ariaLabel:e.toLanguageString(ae,Be[ae])})),h.createElement(a.ToolbarItem,{className:"k-filter-operator"},h.createElement(s.DropDownList,{tabIndex:-1,data:c,textField:"text",value:c.find((e=>e.operator===r.operator)),onChange:this.onOperatorChange,ariaLabel:e.toLanguageString(le,Be[le])})),h.createElement(a.ToolbarItem,{className:"k-filter-value"},i&&h.createElement(i.filter,{filter:r,onFilterChange:this.onInputChange,min:i.min,max:i.max})),h.createElement(a.Button,{className:"k-toolbar-button",title:e.toLanguageString(te,Be[te]),icon:"x",svgIcon:o.xIcon,fillMode:"flat",themeColor:"base",type:"button",onClick:this.onFilterRemove})))}};$r.propTypes={filter:r.object.isRequired,fields:r.array.isRequired,ariaLabel:r.string,onChange:r.func.isRequired,onRemove:r.func.isRequired};let Wr=$r;l.registerForLocalization(Wr);const Yr=class e extends h.Component{constructor(){super(...arguments),this.onGroupRemove=e=>{const t={filter:this.props.filter,target:this,syntheticEvent:e,nativeEvent:e.nativeEvent};this.props.onRemove.call(void 0,t)},this.onAddExpression=e=>{const t=this.props.filter,r=this.props.fields[0],n={field:r.name,operator:r.operators[0].operator};n.value=Gr(n.operator)?"":null;const a={nextFilter:{...t,filters:[...t.filters,n]},prevFilter:t,target:this,syntheticEvent:e,nativeEvent:e.nativeEvent};this.props.onChange.call(void 0,a)},this.onAddGroup=e=>{const t=this.props.filter,r={nextFilter:{...t,filters:[...t.filters,{...this.props.defaultGroupFilter}]},prevFilter:t,target:this,syntheticEvent:e,nativeEvent:e.nativeEvent};this.props.onChange.call(void 0,r)},this.onLogicAnd=e=>this.changeLogic("and",e),this.onLogicOr=e=>this.changeLogic("or",e),this.changeLogic=(e,t)=>{const r=this.props.filter;if(r.logic!==e){const n={nextFilter:{...r,logic:e},prevFilter:r,target:this,syntheticEvent:t,nativeEvent:t.nativeEvent};this.props.onChange.call(void 0,n)}},this.replaceFilter=(e,t)=>{const r=this.props.filter,n=r.filters.map((r=>r===e?t:r));return{...r,filters:n}},this.onChange=e=>{const t={nextFilter:this.replaceFilter(e.prevFilter,e.nextFilter),prevFilter:this.props.filter,syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,target:this};this.props.onChange.call(void 0,t)},this.onRemove=e=>{const t=this.props.filter,r=t.filters.filter((t=>t!==e.filter)),n={nextFilter:{...t,filters:r},prevFilter:t,syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,target:this};this.props.onChange.call(void 0,n)}}render(){const t=l.provideLocalizationService(this),{fields:r,filter:n,ariaLabel:i=t.toLanguageString(re,Be[re])}=this.props;return h.createElement(h.Fragment,null,h.createElement("div",{className:"k-filter-toolbar"},h.createElement(a.Toolbar,{role:"toolbar",ariaLabel:i},h.createElement(a.ButtonGroup,{className:"k-toolbar-button-group k-button-group-solid"},h.createElement(a.Button,{togglable:!0,onClick:this.onLogicAnd,selected:"and"===n.logic,type:"button"},t.toLanguageString(Q,Be[Q])),h.createElement(a.Button,{togglable:!0,onClick:this.onLogicOr,selected:"or"===n.logic,type:"button"},t.toLanguageString(Z,Be[Z]))),h.createElement(a.Button,{className:"k-toolbar-button",title:t.toLanguageString(J,Be[J]),icon:"filter-add-expression",svgIcon:o.filterAddExpressionIcon,type:"button",onClick:this.onAddExpression},t.toLanguageString(J,Be[J])),h.createElement(a.Button,{className:"k-toolbar-button",title:t.toLanguageString(ee,Be[ee]),icon:"filter-add-group",svgIcon:o.filterAddGroupIcon,type:"button",onClick:this.onAddGroup},t.toLanguageString(ee,Be[ee])),h.createElement(a.Button,{className:"k-toolbar-button",title:t.toLanguageString(te,Be[te]),icon:"x",svgIcon:o.xIcon,fillMode:"flat",type:"button",onClick:this.onGroupRemove}))),n.filters.length>0&&h.createElement("ul",{role:"group",className:"k-filter-lines"},n.filters.map(((t,n)=>h.createElement("li",{role:"treeitem",key:n,className:"k-filter-item"},u.isCompositeFilterDescriptor(t)?h.createElement(e,{filter:t,fields:r,onChange:this.onChange,onRemove:this.onRemove,defaultGroupFilter:this.props.defaultGroupFilter,ariaLabel:this.props.ariaLabel,ariaLabelExpression:this.props.ariaLabelExpression}):h.createElement(Wr,{filter:t,fields:r,ariaLabel:this.props.ariaLabelExpression,onChange:this.onChange,onRemove:this.onRemove}))))))}};Yr.propTypes={filter:r.object.isRequired,fields:r.array.isRequired,ariaLabel:r.string,ariaLabelExpression:r.string,onChange:r.func.isRequired,onRemove:r.func.isRequired,defaultGroupFilter:r.object.isRequired};let jr=Yr;l.registerForLocalization(jr);const Vr={andButton:"button.k-group-start",orButton:"button.k-group-end",addFilterButton:'button[title="Add Expression"]',addGroupButton:'button[title="Add Group"]',removeButton:'button[title="Remove"]',filterFieldWrapper:".k-filter-field",filterOperatorWrapper:".k-filter-operator",filterValueWrapper:".k-filter-value",toolbarElement:".k-toolbar"},Xr=class extends h.Component{constructor(e){super(e),this.wrapperRef=h.createRef(),this.onFilterChange=e=>{const t={filter:e.nextFilter,syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,target:this};this.props.onChange.call(void 0,t)},this.onGroupRemove=e=>{const t={filter:{...this.props.value,filters:[]},syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,target:this};this.props.onChange.call(void 0,t)},this.onKeyDown=e=>{var t;null==(t=this.navigation)||t.triggerKeyboardEvent(e)},n.validatePackage(He)}componentDidMount(){this.wrapperRef&&(this.navigation=new n.Navigation({tabIndex:0,root:this.wrapperRef,selectors:[".k-filter"],keyboardEvents:{keydown:{Tab:(e,t,r)=>{const a=e.getElementsByClassName("k-filter-lines")[0];a&&n.disableNavigatableContainer(a)},ArrowUp:(e,t,r)=>{r.preventDefault();const a=n.getActiveElement(document),l=null==a?void 0:a.closest(Vr.toolbarElement),o=e.getElementsByClassName("k-toolbar"),i=Array.from(o).findIndex((e=>e===l))-1,s=o[i];e.getElementsByClassName("k-filter-lines")[0]&&n.focusFirstFocusableChild(s)},ArrowDown:(e,t,r)=>{r.preventDefault();const a=n.getActiveElement(document),l=null==a?void 0:a.closest(Vr.toolbarElement),o=e.getElementsByClassName("k-toolbar"),i=Array.from(o).findIndex((e=>e===l))+1,s=o[i],c=e.getElementsByClassName("k-filter-lines")[0];c&&(n.enableNavigatableContainer(c,[Vr.filterFieldWrapper,Vr.filterOperatorWrapper,Vr.filterValueWrapper]),n.focusFirstFocusableChild(s))},ArrowRight:(e,t,r)=>{r.preventDefault();const a=n.getActiveElement(document),l=null==a?void 0:a.nextElementSibling,o=null==a?void 0:a.closest(Vr.toolbarElement),i=e.querySelector('[aria-label="Filter toolbar"]');a&&l&&o!==i&&l.focus()},ArrowLeft:(e,t,r)=>{r.preventDefault();const a=n.getActiveElement(document),l=null==a?void 0:a.previousElementSibling,o=null==a?void 0:a.closest(Vr.toolbarElement),i=e.querySelector('[aria-label="Filter toolbar"]');a&&l&&o!==i&&l.focus()},Enter:(e,t,r)=>{r.preventDefault();const a=n.getActiveElement(document),l=e.querySelector(Vr.removeButton),o=null==a?void 0:a.closest(Vr.toolbarElement),i=e.getElementsByClassName("k-toolbar"),s=Array.from(i).findIndex((e=>e===o))-1;if(o===i[0]){const e=o.lastElementChild;e&&e.click()}if(o!==i[0]){const e=i[s].lastElementChild;a&&a.title===l.title&&e&&(a.click(),e.focus())}}}}}))}render(){return h.createElement("div",{className:n.classNames("k-filter",this.props.className),style:this.props.style,ref:this.wrapperRef,onKeyDown:this.onKeyDown},h.createElement("ul",{role:"tree",className:"k-filter-container","aria-label":this.props.ariaLabel},h.createElement("li",{role:"treeitem",className:"k-filter-group-main"},h.createElement(jr,{filter:this.props.value,fields:this.props.fields,ariaLabel:this.props.ariaLabelGroup,ariaLabelExpression:this.props.ariaLabelExpression,onChange:this.onFilterChange,onRemove:this.onGroupRemove,defaultGroupFilter:this.props.defaultGroupFilter||{logic:"and",filters:[]}}))))}};Xr.propTypes={className:r.string,style:r.object,fields:function(e,t){const r=e[t];return void 0===r?new Error(`Property '${t}' is missing.`):Array.isArray(r)?Object.keys(r.reduce(((e,t)=>({...e,[t.name]:1})),{})).length!==r.length?new Error(`Property '${t}' needs to contain objects with unique 'name' field.`):null:new Error(`Property '${t}' needs to be Array<FieldSettings>.`)},ariaLabelGroup:r.string,ariaLabelExpression:r.string,value:r.object.isRequired,onChange:r.func.isRequired};let Ur=Xr;const Qr=e=>h.createElement("div",{onClick:e.onClick,className:n.classNames("k-columnmenu-item",{"k-selected":e.selected},{"k-disabled":e.disabled})},(e.iconClass||e.svgIcon)&&h.createElement(n.IconWrap,{name:e.iconClass?n.toIconName(e.iconClass):void 0,icon:e.svgIcon}),e.title),Zr=[{text:ye,operator:"contains"},{text:xe,operator:"doesnotcontain"},{text:ge,operator:"eq"},{text:he,operator:"neq"},{text:Ee,operator:"startswith"},{text:ke,operator:"endswith"},{text:fe,operator:"isnull"},{text:ve,operator:"isnotnull"},{text:be,operator:"isempty"},{text:Ce,operator:"isnotempty"}],Jr=[{text:ge,operator:"eq"},{text:he,operator:"neq"},{text:Ie,operator:"gte"},{text:Re,operator:"gt"},{text:De,operator:"lte"},{text:Fe,operator:"lt"},{text:fe,operator:"isnull"},{text:ve,operator:"isnotnull"}],en=[{text:ge,operator:"eq"},{text:he,operator:"neq"},{text:Ne,operator:"gte"},{text:Le,operator:"gt"},{text:we,operator:"lt"},{text:Ae,operator:"lte"},{text:fe,operator:"isnull"},{text:ve,operator:"isnotnull"}],tn=[{text:Se,operator:""}];let rn=class{static get text(){return[...Zr]}static get numeric(){return[...Jr]}static get date(){return[...en]}static get boolean(){return[...tn]}};const nn=e=>{const{filter:t,onFilterChange:r,operators:n,initialFilter:a}=e,o=h.useCallback((e=>{const n=t,l=e.target.value.operator,o=n?{...n,operator:l}:{value:a.value,operator:l};r.call(void 0,e.syntheticEvent,o,n)}),[t,r,a]),i=h.useCallback((e=>{const a=e.target.value,l=t,o=l?{...l,value:a}:{value:a,operator:n[0].operator};r.call(void 0,e,o,l)}),[t,r,n]),c=l.useLocalization(),u=n.map((e=>({...e,text:c.toLanguageString(e.text,Be[e.text])})));return h.createElement(h.Fragment,null,h.createElement(s.DropDownList,{value:u.find((e=>e.operator===t.operator))||null,onChange:o,data:u,textField:"text"}),h.createElement(e.input,{value:t.value,onChange:i}))},an=e=>{const{filter:t,onFilterChange:r}=e,n=h.useCallback((e=>r.call(void 0,e.syntheticEvent,{...t,value:e.value},t)),[t,r]),a=rn.boolean[0].text;return h.createElement(i.Checkbox,{onChange:n,checked:t.value,label:l.useLocalization().toLanguageString(a,Be[a]),labelPlacement:"after"})},ln=e=>{const t=h.useCallback((e=>h.createElement(i.Input,{...e,value:e.value||""})),[]),r=h.useRef(rn.text),n=h.useRef({operator:"",value:""});return h.createElement(nn,{initialFilter:n.current,input:t,operators:e.operators||r.current,...e})},on=e=>{const t=h.useCallback((e=>h.createElement(i.NumericTextBox,{...e,value:e.value||null})),[]),r=h.useRef(rn.numeric),n=h.useRef({operator:"",value:null});return h.createElement(nn,{initialFilter:n.current,input:t,operators:e.operators||r.current,...e})},sn=e=>{const t=h.useCallback((e=>h.createElement(d.DatePicker,{...e,value:e.value||null})),[]),r=h.useRef(rn.date),n=h.useRef({operator:"",value:null});return h.createElement(nn,{initialFilter:n.current,input:t,operators:e.operators||r.current,...e})},cn=[{text:Ke,logic:"and"},{text:Te,logic:"or"}],un=e=>{const t=l.useLocalization(),r=(e.data||cn).map((e=>({...e,text:t.toLanguageString(e.text,Be[e.text])})));return h.createElement(s.DropDownList,{onChange:e.onChange,className:"k-filter-and",textField:"text",...e,data:r,value:r.find((t=>t.logic===e.value))})},dn=e=>h.createElement("div",{className:"k-columnmenu-item-content"},h.createElement(m.Reveal,{style:{position:"relative",display:"block"}},e.show&&h.createElement("div",{className:"kendo-grid-filter-menu-container"},h.createElement("form",{className:"k-filter-menu",onSubmit:e.onSubmit,onReset:e.onReset},h.createElement("div",{className:"k-filter-menu-container"},e.children,h.createElement("div",{className:"k-actions k-hstack k-justify-content-stretch"},e.actions)))))),pn=e=>{const t=l.useLocalization();return h.createElement(dn,{...e,actions:h.createElement(h.Fragment,null,h.createElement(a.Button,{type:"reset"},t.toLanguageString(ce,Be[ce])),h.createElement(a.Button,{themeColor:"primary"},t.toLanguageString(ue,Be[ue])))})},mn=e=>{n.validatePackage(He);const t=h.useRef([]),{field:r,filter:a,sort:i=t.current,onSortChange:s,onFilterChange:c,initialFilter:d,sortAsc:m=!1,sortDesc:g=!1,filterContent:f=[],expandFilters:v=!1}=e,[b,C]=h.useState(!1),[E,y]=h.useState(v),[x,k]=h.useState(r&&d?d(r):null),I=h.useRef(null),R=h.useRef(null),D=h.useRef(null),F=h.useRef(!1),S=h.useCallback((()=>(a||[]).find((e=>e.filters.every((e=>!u.isCompositeFilterDescriptor(e)&&e.field===r))))),[a,r]),N=h.useCallback((()=>{C(!1)}),[]),L=h.useCallback((()=>{F.current?F.current=!1:(clearTimeout(D.current),D.current=window.setTimeout((()=>{N()})))}),[N]),w=h.useCallback((()=>clearTimeout(D.current)),[]),A=h.useCallback((e=>{F.current=b&&e.currentTarget===I.current}),[b]),K=h.useCallback((()=>{C(!b),r&&d&&(y(!b&&v),k(b?x:S()||d(r)))}),[S,r,b,x,d,v]);h.useEffect((()=>{b&&R.current&&R.current.focus()}),[b]);const T=h.useCallback((()=>y(!E)),[E]),M=h.useCallback(((e,t)=>{const n=[...i],a=n.findIndex((e=>e.field===r)),l={field:r,dir:t};a>=0?n[a].dir!==l.dir?n.splice(a,1,l):n.splice(a,1):n.push(l),N(),s&&s.call(void 0,e,n,r)}),[i,r,s,N]),O=h.useCallback(((e,t,r)=>{const n={...x,filters:[...x.filters]},a=n.filters.indexOf(r);n.filters.splice(a,1,t),k(n)}),[x]),B=h.useCallback((e=>{e.preventDefault();const t=(a||[]).slice(),n=S(),l=n?t.indexOf(n):-1;l>=0?t.splice(l,1,x):t.push(x),N(),c&&c.call(void 0,e,t,r)}),[a,x,r,c,N,S]),q=h.useCallback((e=>{const t=(a||[]).slice(),n=S(),l=n?t.indexOf(n):-1;l>=0&&t.splice(l,1),d&&k(d(r)),N(),c&&c.call(void 0,e,t,r)}),[a,r,c,d,N,S]),P=h.useCallback((e=>M(e,"asc")),[M]),z=h.useCallback((e=>M(e,"desc")),[M]),G=h.useCallback((e=>x&&k({...x,logic:e.value.logic})),[x]),_=i.find((e=>e.field===r))||{dir:""},[H,$,W]=f,Y=l.useLocalization(),j=[m||g?h.createElement("div",{className:"k-columnmenu-item-wrapper",key:"sorting"},m&&h.createElement(Qr,{title:Y.toLanguageString(pe,Be[pe]),iconClass:"k-i-sort-asc-small",svgIcon:o.sortAscSmallIcon,selected:"asc"===_.dir,onClick:P}),g&&h.createElement(Qr,{title:Y.toLanguageString(me,Be[me]),iconClass:"k-i-sort-desc-small",svgIcon:o.sortDescSmallIcon,selected:"desc"===_.dir,onClick:z})):null,x&&f.length>0?h.createElement("div",{className:"k-columnmenu-item-wrapper",key:"filtering"},h.createElement(Qr,{iconClass:"k-i-filter",svgIcon:o.filterIcon,title:Y.toLanguageString(de,Be[de]),onClick:T}),h.createElement(pn,{show:E,onSubmit:B,onReset:q},H&&h.createElement(H,{filter:x.filters[0],onFilterChange:O}),$&&h.createElement($,{value:x.logic,onChange:G}),W&&h.createElement(W,{filter:x.filters[1],onFilterChange:O}))):null],V=[h.createElement("span",{ref:I,onClick:K,onMouseDown:A,className:"k-grid-header-menu k-grid-column-menu"+(S()?" k-active":""),key:"button"},h.createElement(n.IconWrap,{name:"filter",icon:o.filterIcon})),h.createElement(p.Popup,{anchor:I.current,show:b,key:"popup",popupClass:"k-column-menu k-column-menu-popup"},h.createElement("div",{ref:R,tabIndex:0,onBlur:L,onFocus:w,style:{outline:"none"}},e.itemsRender?e.itemsRender.call(void 0,j,{closeMenu:N,field:r}):j))];return h.createElement(h.Fragment,null,e.render?e.render.call(void 0,V):V)};e.BooleanFilter=Or,e.BooleanFilterCell=cr,e.ClipboardActionType=or,e.ClipboardService=class{constructor(e){this.copyHandler=e=>{this.clipboardEvent(or.copy,e)},this.cutHandler=e=>{this.clipboardEvent(or.cut,e)},this.pasteHandler=e=>{this.clipboardEvent(or.paste,e)},this.addEventListeners=e=>{e&&(e.addEventListener(or.copy,this.copyHandler),e.addEventListener(or.cut,this.cutHandler),e.addEventListener(or.paste,this.pasteHandler))},this.removeEventListeners=e=>{e&&(e.removeEventListener(or.copy,this.copyHandler),e.removeEventListener(or.cut,this.cutHandler),e.removeEventListener(or.paste,this.pasteHandler))},this.clipboardEvent=e}},e.ColumnDefaultProps=kt,e.ColumnMenuBooleanColumn=e=>{const{field:t,...r}=e,n=h.useCallback((e=>({logic:"and",filters:[{operator:"eq",field:e,value:!1}]})),[]),a=!!e.field,l=a?[an]:[];return h.createElement(mn,{sortAsc:a,sortDesc:a,filterContent:l,initialFilter:a?n:void 0,field:t,...r})},e.ColumnMenuBooleanFilter=an,e.ColumnMenuDateColumn=e=>{const{field:t,...r}=e,n=h.useCallback((e=>({logic:"or",filters:[{operator:"eq",field:e,value:null},{operator:"eq",field:e,value:null}]})),[]),a=!!e.field,l=a?[sn,un,sn]:[];return h.createElement(mn,{sortAsc:a,sortDesc:a,filterContent:l,initialFilter:a?n:void 0,field:t,...r})},e.ColumnMenuDateFilter=sn,e.ColumnMenuFilterForm=pn,e.ColumnMenuFilterLogic=un,e.ColumnMenuForm=dn,e.ColumnMenuItem=Qr,e.ColumnMenuNumericColumn=e=>{const{field:t,...r}=e,n=h.useCallback((e=>({logic:"or",filters:[{operator:"eq",field:e,value:null},{operator:"eq",field:e,value:null}]})),[]),a=!!e.field,l=a?[on,un,on]:[];return h.createElement(mn,{sortAsc:a,sortDesc:a,filterContent:l,initialFilter:a?n:void 0,field:t,...r})},e.ColumnMenuNumericFilter=on,e.ColumnMenuOperators=rn,e.ColumnMenuTextColumn=e=>{const{field:t,...r}=e,n=h.useCallback((e=>({logic:"and",filters:[{operator:"contains",field:e,value:""},{operator:"contains",field:e,value:""}]})),[]),a=!!e.field,l=a?[ln,un,ln]:[];return h.createElement(mn,{sortAsc:a,sortDesc:a,filterContent:l,initialFilter:a?n:void 0,field:t,...r})},e.ColumnMenuTextFilter=ln,e.ColumnResize=class{constructor(e){this.columns=[],this.resizable=!1,this.isRtl=!1,this.setIsRtl=e=>{this.isRtl=e},this.onResize=e,this.dragHandler=this.dragHandler.bind(this)}dragHandler(e,t,r,n){const a=e.originalEvent;n||(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation());const l=r.parentElement;if(!l||!l.parentElement)return;const o=l.clientWidth;let i;if(this.isRtl?(i=r.getBoundingClientRect().right-r.offsetWidth/2-e.clientX,i+=o):i=o+e.clientX-r.getBoundingClientRect().left-r.offsetWidth/2,!n&&Math.abs(i-o)<1)return;this.setWidths(t,Math.floor(i)/o);const s=this.columns.filter((e=>!e.children.length)).indexOf(t);this.onResize(s,o,i,a,n)}setWidths(e,t){const r=this.columns.indexOf(e),n=[];let a=e.children.length;for(let e=r+1;a>0&&e<this.columns.length;e++,a--){const t=this.columns[e];t.children.length?a+=t.children.length:n.push(t)}0===n.length&&n.push(e),n.forEach((e=>{let r=e.width?parseFloat(e.width.toString())*t:0;const n=void 0===e.minResizableWidth?10:e.minResizableWidth;r<n&&(r=n),e.width=Math.floor(r)})),this.updateColElements(n)}updateColElements(e){const t=this.columns.filter((e=>!e.children.length));let r=1e-10;for(let n=0;n<e.length;n++){const a=t.indexOf(e[n]),l=parseFloat((e[n].width||0).toString());r+=l-Math.floor(l);const o=Math.floor(l)+Math.floor(r);r-=Math.floor(r),this.setColWidth(this.colGroupMain&&this.colGroupMain.children[a],o),this.setColWidth(this.colGroupHeader&&this.colGroupHeader.children[a],o),this.setColWidth(this.colGroupFooter&&this.colGroupFooter.children[a],o)}}setColWidth(e,t){e&&(e.style.width=t+"px")}},e.ColumnResizer=Ye,e.CommonDragLogic=class{constructor(e,t,r){this.columns=[],this.reorderable=!1,this.groupable=!1,this.startColumn=-1,this.startGroup=-1,this.currentColumn=-1,this.currentGroup=-1,this.dropElementClue=null,this.dragElementClue=null,this.groupPanelDivElement=null,this.refGroupPanelDiv=e=>{this.groupPanelDivElement=e},this.refDropElementClue=e=>{this.dropElementClue=e},this.refDragElementClue=e=>{this.dragElementClue=e},this.pressHandler=(e,t)=>{const r=this.getColumnIndex(e,t);if(this.startGroup=this.getGroupIndex(e),r>=0){const e=this.columns[r];(e.reorderable&&this.reorderable||e.groupable&&this.groupable)&&(this.startColumn=r)}},this.dragHandler=(e,t)=>{if(e.isTouch||e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),-1===this.startColumn&&-1===this.startGroup)return;this.currentColumn=this.getColumnIndex(e,t),this.currentGroup=this.getGroupIndex(e),this.groupPanelDivElement&&this.startGroup>=0&&(this.currentGroup=Math.min(this.currentGroup,this.groupPanelDivElement.children.length-2));const r=!this.isValid();r&&(this.currentColumn=-1,this.currentGroup=-1);const n=this.currentColumn>=0?t.children[this.columns[this.currentColumn].index]:this.groupPanelDivElement&&this.groupPanelDivElement.children[this.currentGroup];this.updateDragElementClue(e,t,n,r),this.updateDropElementClue(e,t,n,r)},this.releaseHandler=e=>{const t=this.startColumn,r=this.currentColumn,n=this.startGroup,a=this.currentGroup;this.dropElementClue&&this.dropElementClue.setState({visible:!1}),this.dragElementClue&&this.dragElementClue.setState({visible:!1});const l=this.isValid();this.startColumn=this.startGroup=this.currentColumn=this.currentGroup=-1,l&&(t>=0&&r>=0?this.columnReorder(t,r,e.originalEvent):n>=0&&a>=0?this.groupReorder(n,a,e.originalEvent):t>=0&&a>=0&&this.columnToGroup(t,a,e.originalEvent))},this.columnReorder=e,this.groupReorder=t,this.columnToGroup=r}getColumnIndex(e,t){if(!t||t.parentElement===this.groupPanelDivElement)return-1;const r=Nt(e,t);if(-1===r)return-1;for(let e=0;e<t.parentNode.children.length;e++)if(t.parentNode.children[e]===t)return this.columns.findIndex((t=>t.index===r&&t.depth===e));return-1}getGroupIndex(e){return Nt(e,this.groupPanelDivElement)}isValid(){return this.startGroup>=0?this.currentGroup>=0&&this.currentGroup!==this.startGroup:-1!==this.startColumn&&(this.currentGroup>=0?!0===this.columns[this.startColumn].groupable&&!0===this.groupable:!0===this.reorderable&&this.currentColumn>=0&&this.currentColumn!==this.startColumn&&!0===this.columns[this.startColumn].reorderable&&this.columns[this.currentColumn].parentIndex===this.columns[this.startColumn].parentIndex)}updateDragElementClue(e,t,r,n){if(!this.dragElementClue)return;const a=this.startColumn>=0?t.children[this.columns[this.startColumn].index].innerText:t.innerText;this.dragElementClue.setState({visible:!0,top:e.pageY+10,left:e.pageX,innerText:a,status:n||!r?"k-i-cancel":"k-i-plus"})}updateDropElementClue(e,t,r,n){if(!this.dropElementClue)return;if(n||!r)return void this.dropElementClue.setState({visible:!1});const a=r.getBoundingClientRect();let l=a.left+e.pageX-e.clientX-6;(this.currentColumn>this.startColumn||this.currentGroup>this.startGroup&&-1!==this.startGroup)&&(l+=a.width);const o=a.top+e.pageY-e.clientY;this.dropElementClue.setState({visible:!0,top:o,left:l,height:this.currentColumn>=0?t.clientHeight:a.height})}},e.DateFilter=Ar,e.DateFilterCell=dr,e.DragClue=Lt,e.DropClue=wt,e.EnumFilter=Tr,e.Expression=Wr,e.FILTER_ROW_CLASS=vr,e.Filter=Ur,e.FilterRow=function(e){const{columns:t,filter:r,filterChange:a,sort:o=[],ariaRowIndex:i}=e,s=l.useLocalization(),c=e=>{if(!a)return;const t=e.filter.filter((e=>!("eq"===e.operator&&null===e.value)));a({...e,filter:t})};return h.createElement("tr",{className:vr,"aria-rowindex":i,role:"row"},t.map(((e,t)=>{const a=void 0!==e.locked?{left:e.left,right:e.right,borderRightWidth:e.rightBorder?"1px":""}:{},l=e.filterCell||e.filter;return h.createElement(fr,{columnId:yt(e.id),navigatable:e.navigatable,style:a,key:t,ariaColumnIndex:e.ariaColumnIndex,ariaLabel:l?s.toLanguageString(Oe,Be[Oe]):void 0,className:n.classNames("k-table-td k-header",br(o,e.field,e.locked))},l&&h.createElement(l,{field:e.field,filter:r,onFilterChange:c}))})))},e.Group=jr,e.Header=Cr,e.HeaderCell=Er,e.HeaderRow=Dr,e.HeaderSelectionCell=function(e){const t=[h.createElement("input",{key:0,checked:e.selectionValue,id:e.inputId,type:"checkbox",className:"k-checkbox k-checkbox-md k-rounded-md",onChange:t=>e.selectionChange({field:e.field,syntheticEvent:t})}),h.createElement("label",{key:1,className:"k-checkbox-label",htmlFor:e.inputId})];return h.createElement(h.Fragment,null,e.render?e.render.call(void 0,t,e):t)},e.HeaderTdElement=fr,e.HeaderThElement=kr,e.KEYBOARD_NAV_CANCEL_BUTTON_CLASS=Je,e.KEYBOARD_NAV_DATA_BODY=Ue,e.KEYBOARD_NAV_DATA_HEADER=Xe,e.KEYBOARD_NAV_DATA_ID=Qe,e.KEYBOARD_NAV_DATA_LEVEL=je,e.KEYBOARD_NAV_DATA_SCOPE=Ve,e.KEYBOARD_NAV_DATA_ZONE="data-keyboardnavzone",e.KEYBOARD_NAV_EDIT_BUTTON_CLASS=et,e.KEYBOARD_NAV_FILTER_COL_SUFFIX=Ze,e.NavigatableMode=_t,e.NumericFilter=Lr,e.NumericFilterCell=mr,e.Operators=class{static get text(){return[...Br]}static get numeric(){return[...qr]}static get date(){return[...Pr]}static get boolean(){return[...zr]}},e.Pager=$e,e.TABLE_COL_INDEX_ATTRIBUTE=Vt,e.TABLE_PREVENT_SELECTION_ELEMENT=Xt,e.TABLE_ROW_INDEX_ATTRIBUTE=jt,e.TableKeyboardNavigationContext=zt,e.TableSelection=e=>{var t;const{onRelease:r,childRef:a}=e,{enabled:l,drag:o,mode:i,cell:s}=lr(e.selectable),c=h.useRef(null),u=h.useRef(null),d=h.useRef({clientX:0,clientY:0,scrollX:0,scrollY:0,pressedElement:null}),[p,m]=h.useState(null),g=h.useRef(),v=h.useRef(!1),b=h.useRef(!1),C=h.useCallback((e=>{const{event:t}=e;if(b.current=Qt(t.originalEvent.target),b.current||!c.current)return;g.current=nr(c.current.element);const r=c.current.element&&c.current.element.ownerDocument;if(!r)return;const n=r.elementFromPoint(t.clientX,t.clientY);d.current={clientY:t.clientY,clientX:t.clientX,scrollX:t.scrollX,scrollY:t.scrollY,pressedElement:n}}),[]),E=h.useCallback((e=>{const{event:t}=e,{clientX:r,clientY:n}=d.current;if(!b.current&&o&&"single"!==i&&((Math.abs(n-t.clientY)>5||Math.abs(r-t.clientX)>5)&&(v.current=!0),v.current)){const e=ar(g.current);m({top:Math.min(n,t.clientY)-e.top,left:Math.min(r,t.clientX)-e.left,width:Math.abs(t.clientX-r),height:Math.abs(t.clientY-n)})}}),[m,o,i]),y=h.useCallback((e=>{const{event:t}=e,{clientX:n,clientY:a,scrollX:l,scrollY:o,pressedElement:p}=d.current;if(b.current||!c.current)return;const g=c.current.element&&c.current.element.ownerDocument;if(g){if(v.current){const e=t.scrollY-o,c=t.scrollX-l,d=Math.min(a,t.clientY),m=Math.min(n,t.clientX),h=Math.max(a,t.clientY),f=Math.max(n,t.clientX),v=u.current;if(!v)return;v.style.visibility="hidden";const b=g.elementFromPoint(m,d),C=e>0||c>0?p:b,E=g.elementFromPoint(f,h);if(v.style.visibility="",!C||!E)return;const y=Zt(C,"TD"),x=Zt(y,"TR"),k=Zt(E,"TD"),I=Zt(k,"TR"),R=er(y),D=Jt(x),F=er(k),S=Jt(I);void 0!==R&&void 0!==D&&void 0!==F&&void 0!==S&&r({nativeEvent:t.originalEvent,startRowIndex:D,startColIndex:R,endRowIndex:S,endColIndex:F,altKey:t.altKey,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,mode:i,cell:s,isDrag:!0})}else{const e=g.elementFromPoint(n,a);if(!e)return;const l=Zt(e,"TD"),o=Zt(e,"TR"),c=er(l),u=Jt(o);l&&o&&void 0!==u&&void 0!==c&&r({nativeEvent:t.originalEvent,startRowIndex:u,startColIndex:c,endRowIndex:u,endColIndex:c,altKey:t.altKey,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,mode:i,cell:s,isDrag:!1})}m(null),v.current=!1,d.current={clientX:0,clientY:0,scrollX:0,scrollY:0,pressedElement:null}}}),[m,i,s,r]),x=n.useDocument(u);return l?h.createElement(h.Fragment,null,h.createElement(n.Draggable,{onPress:C,onDrag:E,onRelease:y,ref:c,childRef:a},e.children),p&&f.createPortal(h.createElement("div",{ref:u,style:{...p,position:"fixed"},className:"k-marquee k-marquee-color"}),null==(t=x())?void 0:t.body)):h.cloneElement(h.Children.only(e.children),{ref:a})},e.TextFilter=Sr,e.TextFilterCell=hr,e.closestTagName=Zt,e.createDataTree=(e,t,r,n)=>{let a,l={},o=[];return e.forEach((e=>l[t(e)]={...e})),e.forEach((e=>{a=l[r(e)],a?(a[n]=a[n]||[],a[n].push(l[t(e)])):o.push(l[t(e)])})),o},e.createFilterComponent=ir,e.extendDataItem=(e,t,r)=>n.extendDataItem(e,t,r),e.filterBy=function(e,t,r){let n={[r]:[...e]};return n=Tt(n,t,r),n[r]||[]},e.flatData=function(e,t,r){const n=[],a=[];for(let r=e.length-1;r>=0;r--){const a=e[r];n.push({root:a,data:t(a),level:[r],levelCount:e.length})}for(;n.length>0;){const e=n.pop();if(a.push({dataItem:e.root,level:[...e.level],...r(e.root),levelCount:e.levelCount}),e.data.length)for(let r=e.data.length-1;r>=0;r--){const a=e.data[r];n.push({root:a,data:t(a),level:[...e.level,r],levelCount:e.data.length})}}return a},e.getColumnIndex=er,e.getGroupIds=e=>{const t=[];return n.mapTree(e.data,qt,(e=>{e[Bt]&&t.push(e[Bt])})),t},e.getIndex=Nt,e.getItemPath=Ot,e.getOffset=ar,e.getRowIndex=Jt,e.getSelectedState=tr,e.getSelectedStateFromKeyDown=e=>{const{event:t,dataItemKey:r,selectedState:a}=e,{syntheticEvent:l,nativeEvent:o,dataItems:i,componentId:s,mode:c,cell:u,selectedField:d}=t,{target:p,ctrlKey:m,metaKey:g,altKey:h,shiftKey:f}=o;if(l.isDefaultPrevented()&&!f||o.keyCode!==n.Keys.space&&o.keyCode!==n.Keys.enter&&o.keyCode!==n.Keys.right&&o.keyCode!==n.Keys.left&&o.keyCode!==n.Keys.up&&o.keyCode!==n.Keys.down)return a;l.preventDefault();const v=Zt(p,"TD"),b=Zt(p,"TR");let C=er(v),E=Jt(b),y={};return v&&b&&void 0!==E&&void 0!==C&&(o.keyCode===n.Keys.right&&C++,o.keyCode===n.Keys.left&&C--,o.keyCode===n.Keys.down&&E++,o.keyCode===n.Keys.up&&E--,y=tr({selectedState:a,dataItemKey:r,event:{ctrlKey:m,metaKey:g,altKey:h,shiftKey:f,dataItems:i,cell:u,mode:c,selectedField:d,componentId:s,startColIndex:C,endColIndex:C,startRowIndex:E,endRowIndex:E,isDrag:!1,syntheticEvent:l,nativeEvent:o,target:t.target,dataItem:null}})),y},e.getSelectionOptions=lr,e.isInNonSelectable=Qt,e.isRtl=St,e.mapColumns=function(e,t){const r=[[]];let n=0;for(let t=e.length-1;t>=0;t--)n=Math.max(n,e[t].depth),e[t].colSpan=e[t].colSpan||1,e[t].children.length>0&&(e[t].colSpan=e[t].children.reduce(((e,t)=>t.hidden?e:e+t.colSpan),0));const a=[];let l=1;return e.forEach(((e,t)=>{r[e.depth]=r[e.depth]||[];let o=!1;0===r[e.depth].length&&(l<=1?l=1+(e.children.length>0?0:n-e.depth):(l--,o=!0)),e.rowSpan=1+(e.children.length>0?0:n-e.depth),e.kFirst=o,e.index=r[e.depth].length,r[e.depth].push(t),e.ariaColumnIndex=a[e.depth]?a[e.depth]+1:1;for(let t=e.depth;t<e.depth+e.rowSpan;t++)a[t]=(a[t]||0)+e.colSpan})),Dt(r,e,t),Ft(r,e,t),r},e.modifySubItems=(e,t,r,a)=>n.mapTree(e,t,(e=>r(e)?{...e,[t]:a(e[t]||[])}:e)),e.moveTreeItem=(e,t,r,n)=>{const a=[...e],l=Ot(a,t,n),o=l.pop(),i=l.pop(),s=t[t.length-1];if(r){const e=Ot(a,r,n).pop();(i?i[n]:a).splice(s,1),e[n]=e[n]||[],e[n].push(o)}else(i?i[n]:a).splice(s,1),a.push(o);return a},e.nextColumn=It,e.normalize=yr,e.orderBy=function(e,t,r){let n=u.orderBy(e,t);return n=n.map((e=>Kt(e,t,r))),n},e.populateClipboardData=e=>{const{event:t}=e,r=(e=>{const{event:t,selectedState:r,data:a,dataItemKey:l}=e,o={},i={copiedItems:[],pastedItems:[],clipboardData:""},s=e.subItemsField||"items";return Object.entries(r).forEach((([e,r])=>{o[e]=n.isArray(r)?r.map((e=>t.columns[e])):t.columns})),n.mapTree(a,s,(e=>{const r=e[l||t.dataItemKey||""]||"";return o[r]&&i.copiedItems.push({dataItem:e,fields:o[r].map((e=>e.field||""))}),e})),i})(e);let a="";if("paste"===t.type){const e=t.nativeEvent?t.nativeEvent.clipboardData:"";a=e?e.getData("text").trim():"",r.pastedItems=((e,t,r)=>{const n=e.cellDelimiter||"\t",a=e.newLineDelimiter||"\r\n",l=t.includes(a)?a:t.includes("\n")?"\n":null,o=l?t.split(l):[t],i=r.copiedItems.length?r.copiedItems[0].fields[0]:e.columns[0].field||"";return o.map((t=>{const r=t.includes(n)?t.split(n):[t],a=e.columns.map((e=>e.field||"")),l=a.indexOf(i),o=a.slice(l,l+r.length),s={};return a.slice(l,l+r.length).forEach(((e,t)=>s[e]=r[t])),{dataItem:s,fields:o}}))})(t,a,r)}else r.pastedItems=[],a=((e,t)=>{const r=t.newLineDelimiter||"\r\n",n=e.copiedItems.map(((e,r)=>{let n=((e,t)=>{if(!t.length)return null;let r="";return t.forEach(((t,n,a)=>r+=`${e[t]}${n<a.length-1?"\t":""}`)),r})(e.dataItem,e.fields)||"";return t.copyHeaders&&0===r&&(n=((e,t,r)=>{const n=r.cellDelimiter||"\t",a=r.newLineDelimiter||"\r\n";return`${t.join(n)}${a}${e}`})(n,e.fields,t)),n?[n]:[]})).join(r);return navigator.clipboard.writeText(n),n})(r,t);return r.clipboardData=a,r},e.readColumns=function e(t,r,n=0){const a=[];if(!t||!t.length)return[];if(t.forEach((t=>{const l=e(t.children||[],r,n+1);a.push(Object.assign({},{depth:n},kt,t,{id:t.id?t.id:at(""+r.prevId++,r.idPrefix,"column"),declarationIndex:a.length,children:l,rowSpan:0,colSpan:0,isAccessible:!0}))})),a.sort(((e,t)=>e.orderIndex===t.orderIndex?e.declarationIndex-t.declarationIndex:(e.orderIndex||0)-(t.orderIndex||0))),0===n){const e=[],t=(r,n)=>r.forEach((r=>{r.parentIndex=n,t(r.children,e.push(r)-1)}));return t(a,-1),e}return a},e.relativeContextElement=nr,e.removeItems=(e,t,r)=>[...n.mapTree([{[t]:[...e]}],t,(e=>Mt(e,r,t)))[0][t]],e.selectors=Vr,e.setExpandedState=e=>n.mapTree(e.data,qt,(t=>n.extendDataItem(t,qt,{expanded:!e.collapsedIds.some((e=>e===t[Bt]))}))),e.setGroupIds=e=>{const{group:t}=e;if(t&&t.length&&e.data)return e.data.forEach((e=>Pt(e,t.length,"")))},e.setSelectedState=e=>{const t=e.subItemsField||"items",r=n.getter(e.dataItemKey);return n.mapTree(e.data,t,(a=>n.extendDataItem(a,t,{[e.selectedField]:e.selectedState[r(a)]})))},e.stringOperator=Gr,e.tableColumnsVirtualization=function(e){const{enabled:t,columns:r=[],tableViewPortWidth:n,scrollLeft:a}=e,l=r.map((()=>1)),o=r.map((()=>!1));if(!t)return{colSpans:l,hiddenColumns:o};const i=r.map((e=>parseFloat((e.width||"").toString())||10));let s=0;for(let e=0;e<r.length;e++){if(r[e].locked)continue;const t=e<i.length-1?i[e+1]:0;if(!(s+i[e]+t<a))break;o[e]=!0,s+=i[e]}const c=i.reduce(((e,t)=>e+t),0);s=0;for(let e=r.length-1;e>=0;e--)if(!r[e].locked){if(!(s+2*i[e]<c-n-a))break;o[e]=!0,s+=i[e]}const u=[...o],d=e=>e;let p,m,g=u.lastIndexOf(!1),h=u.some(d),f=u.every(d);for(;h&&u.length&&(-1!==g||f);){for(g<u.length-1&&(p=f?u.length:u.length-g-1,m=u.length-p,0===m&&(m=p-1),o[m]=!1,l[m]=p,u.splice(g+1,p));u.length&&!u[u.length-1];)u.pop();g=u.lastIndexOf(!1),h=u.some(d),f=u.every(d)}return{colSpans:l,hiddenColumns:o}},e.tableKeyboardNavigation=Yt,e.tableKeyboardNavigationBodyAttributes=nt,e.tableKeyboardNavigationHeaderAttributes=rt,e.tableKeyboardNavigationScopeAttributes=tt,e.tableKeyboardNavigationTools=xt,e.treeToFlat=(e,t,r)=>{const a=e=>{const a=[];return(e=>!!n.getNestedValue(t,e))(e)&&(e=>!!n.getNestedValue(r,e))(e)&&a.push(...n.getNestedValue(r,e)),a},l=(e,t,r)=>{t.push({...e,level:r}),a(e).forEach((e=>l(e,t,r+1)))},o=[];return e.forEach((e=>l(e,o,0))),o},e.unaryOperator=_r,e.updateLeft=Dt,e.updateRight=Ft,e.useTableKeyboardNavigation=Gt}));
