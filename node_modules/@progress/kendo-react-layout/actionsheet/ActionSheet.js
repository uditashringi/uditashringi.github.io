/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const U=require("react"),f=require("prop-types"),G=require("@progress/kendo-react-animation"),v=require("@progress/kendo-react-common"),J=require("../package-metadata.js"),q=require("./ActionSheetItem.js"),_=require("./ActionSheetHeader.js"),Q=require("./ActionSheetFooter.js"),V=require("./ActionSheetContent.js");function W(e){const r=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const s in e)if(s!=="default"){const m=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,m.get?m:{enumerable:!0,get:()=>e[s]})}}return r.default=e,Object.freeze(r)}const n=W(U),x=n.forwardRef((e,r)=>{var A,P;v.validatePackage(J.packageMetadata);const{navigatableElements:s=N.navigatableElements,navigatable:m=N.navigatable}=e,j=(t,i,a)=>{a.preventDefault(),a.shiftKey?i.focusPrevious(t):i.focusNext(t)},K=(t,i,a)=>{if(t.ariaDisabled)return;const y=t.className&&t.className.indexOf?t.className.indexOf("k-actionsheet-item")!==-1:!1,E=i.elements.filter(c=>c.className.indexOf("k-actionsheet-item")!==-1);if(y&&e.onItemClick){a.preventDefault();const c=e.items[E.indexOf(t)];e.onItemClick.call(void 0,{syntheticEvent:a,item:c,title:c&&c.title})}if(y&&e.onItemSelect){a.preventDefault();const c=e.items[E.indexOf(t)];e.onItemSelect.call(void 0,{syntheticEvent:a,item:c,title:c&&c.title})}e.animation||u()},M=(t,i,a)=>{e.onOverlayClick&&(a.preventDefault(),e.onOverlayClick.call(void 0,a)),e.onClose&&(a.preventDefault(),e.onClose.call(void 0,a)),e.animation||u()},u=()=>{d({show:!1})},H=t=>{m&&h.current.triggerKeyboardEvent(t)},F=t=>{e.onOverlayClick&&e.onOverlayClick.call(void 0,t),e.onClose&&e.onClose.call(void 0,t),e.animation||u()},C=t=>{e.onItemClick&&e.onItemClick.call(void 0,t),e.onItemSelect&&e.onItemSelect.call(void 0,t),e.animation||u()},L=t=>{const i={};return n.Children.forEach(t,a=>{a&&(i[a.type.displayName]=a)}),i},I=n.useRef(null),S=n.useRef(null);n.useImperativeHandle(I,()=>({props:e})),n.useImperativeHandle(r,()=>I.current);const h=n.useRef(),B=n.useRef(e.animationDuration||300),g=n.useRef({bottom:"0",width:"100%"}),D=n.useRef(),[l,$]=n.useState({show:!1,slide:!1}),d=t=>{$(i=>({...i,...t}))};n.useEffect(()=>{e.expand&&!l.show&&d({show:!0})},[]),n.useEffect(()=>{const t=S.current;if(e.expand&&!l.show&&d({show:!0}),e.expand&&l.show&&!l.slide&&d({slide:!0}),!e.expand&&l.show&&l.slide&&d({slide:!1}),D!==l&&l.slide&&t&&!e.className&&(t.style.setProperty("--kendo-actionsheet-height","auto"),t.style.setProperty("--kendo-actionsheet-max-height","none")),t&&m){const a=[".k-actionsheet-item",...[".k-actionsheet-footer",".k-actionsheet-content",".k-actionsheet-titlebar"].map(y=>v.FOCUSABLE_ELEMENTS.concat(s).map(E=>`${y} ${E}`)).flat()];h.current=new v.Navigation({tabIndex:e.tabIndex||0,root:S,rovingTabIndex:!1,selectors:a,keyboardEvents:{keydown:{Tab:j,Enter:K,Escape:M}}}),h.current.focusElement(h.current.first,null)}D.current={...l}});const R="k-actionsheet-title",w=R,o=(A=e.items)==null?void 0:A.filter(t=>!t.group||t.group==="top"),b=(P=e.items)==null?void 0:P.filter(t=>t.group==="bottom"),z=o&&o.length>0&&b&&b.length>0,k=L(e.children),O=e.animationDuration||B.current,T=l.slide&&n.createElement("div",{className:v.classNames("k-actionsheet",e.className,{"k-actionsheet-bottom":!e.className}),role:"dialog","aria-modal":"true","aria-hidden":!1,"aria-labelledby":w,ref:S,onKeyDown:H},k[_.headerDisplayName]&&!e.title&&!e.subTitle&&k[_.headerDisplayName],(e.title||e.subTitle)&&n.createElement("div",{className:"k-actionsheet-titlebar k-text-center"},n.createElement("div",{className:"k-actionsheet-titlebar-group k-hbox"},n.createElement("div",{className:R,id:w},e.title&&n.createElement("div",null,e.title),e.subTitle&&n.createElement("div",{className:"k-actionsheet-subtitle"},e.subTitle)))),k[V.contentDisplayName]||n.createElement("div",{className:"k-actionsheet-content"},n.createElement("div",{className:"k-list-ul",role:"group"},o&&o.map((t,i)=>n.createElement(q.ActionSheetItem,{...t,id:i,key:i,item:t,tabIndex:e.tabIndex||0,onClick:C}))),z&&n.createElement("hr",{className:"k-hr"}),n.createElement("div",{className:"k-list-ul",role:"group"},b&&b.map((t,i)=>n.createElement(q.ActionSheetItem,{...t,id:i+((o==null?void 0:o.length)||0),key:i,item:t,tabIndex:e.tabIndex||0,onClick:C})))),k[Q.footerDisplayName]);return n.createElement(n.Fragment,null,e.expand||l.show?n.createElement("div",{className:"k-actionsheet-container"},n.createElement("div",{className:"k-overlay",onClick:F}),e.animation?n.createElement(G.Animation,{transitionName:l.slide?"slide-up":"slide-down",onExited:u,transitionEnterDuration:O,transitionExitDuration:O,animationEnteringStyle:e.animationStyles||g.current,animationEnteredStyle:e.animationStyles||g.current,animationExitingStyle:e.animationStyles||g.current,exit:!0,enter:!0,appear:!1},T):T):null)}),N={navigatable:!0,navigatableElements:[]};x.propTypes={items:f.array,subTitle:f.string,title:f.string,navigatable:f.bool,navigatableElements:f.array};x.displayName="KendoReactActionSheet";exports.ActionSheet=x;exports.actionSheetDefaultProps=N;
