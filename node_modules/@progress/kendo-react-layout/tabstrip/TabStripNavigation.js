/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const L=require("react"),f=require("prop-types"),M=require("./TabStripNavigationItem.js"),N=require("@progress/kendo-react-common"),E=require("@progress/kendo-react-buttons"),m=require("@progress/kendo-svg-icons"),y=require("@progress/kendo-react-intl"),v=require("./messages/index.js");function z(h){const s=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(h){for(const t in h)if(t!=="default"){const r=Object.getOwnPropertyDescriptor(h,t);Object.defineProperty(s,t,r.get?r:{enumerable:!0,get:()=>h[t]})}}return s.default=h,Object.freeze(s)}const a=z(L),O=h=>Array.apply(null,Array(h)),W=h=>h.preventDefault(),S="smooth",p="prev",g="next",k=class k extends a.Component{constructor(s){super(s),this.itemsNavRef=a.createRef(),this.isRtl=()=>this.props.dir==="rtl",this.onWheel=t=>{t.stopPropagation();const r=t.deltaY<0?p:g;this.setNewScrollPosition(r,t)},this.arrowClickPrev=t=>{this.handleArrowClick(p,t)},this.arrowClickNext=t=>{this.handleArrowClick(g,t)},this.handleArrowClick=(t,r)=>{this.setNewScrollPosition(t,r)},this.setNewScrollPosition=(t,r)=>{const e=this.itemsNavRef.current;if(!e)return;const c=this.horizontalScroll(),n=c?e.scrollWidth-e.offsetWidth:e.scrollHeight-e.offsetHeight,l=(r.type==="click"?this.props.buttonScrollSpeed:this.props.mouseScrollSpeed)||0;let o=c?e.scrollLeft:e.scrollTop,i=c?e.scrollWidth-e.scrollLeft:e.scrollHeight-e.scrollTop,b=e.scrollWidth-e.scrollLeft*-1;this.isRtl()&&this.horizontalScroll()?(t===p&&o<0&&(o+=l,b+=l),t===g&&o<n&&(o-=l,b-=l),o=Math.min(0,Math.min(n,o))):(t===p&&o>0&&(o-=l,i+=l),t===g&&o<n&&(o+=l,i-=l),o=Math.max(0,Math.min(n,o)));const d=o===0,T=r.type==="click"?S:void 0;if(c){const w=this.isRtl()?Math.round(b)<=e.clientWidth||Math.floor(b)<=e.clientWidth:Math.round(i)<=e.clientWidth||Math.floor(i)<=e.clientWidth;this.setState({disabledPrev:d,disabledNext:w}),e.scrollTo({left:o,behavior:T})}else this.setState({disabledPrev:d,disabledNext:Math.round(i)<=e.clientHeight||Math.floor(i)<=e.clientHeight}),e.scrollTo({top:o,behavior:T})},this.renderArrow=(t,r)=>{const e=this.horizontalScroll(),c=y.provideLocalizationService(this),n={prev:{arrowTab:"k-tabstrip-prev",fontIcon:e?this.isRtl()?"caret-alt-right":"caret-alt-left":"caret-alt-up",svgIcon:e?this.isRtl()?m.caretAltRightIcon:m.caretAltLeftIcon:m.caretAltUpIcon,title:c.toLanguageString(v.prevArrowTitle,v.messages[v.prevArrowTitle])},next:{arrowTab:"k-tabstrip-next",fontIcon:e?this.isRtl()?"caret-alt-left":"caret-alt-right":"caret-alt-down",svgIcon:e?this.isRtl()?m.caretAltLeftIcon:m.caretAltRightIcon:m.caretAltDownIcon,title:c.toLanguageString(v.nextArrowTitle,v.messages[v.nextArrowTitle])}},l=(t===p?this.props.prevButton:this.props.nextButton)||E.Button,o=t===p?this.arrowClickPrev:this.arrowClickNext;return a.createElement(l,{disabled:r,className:`${n[t].arrowTab}`,onClick:o,icon:n[t].fontIcon,svgIcon:n[t].svgIcon,onMouseDown:W,tabIndex:-1,fillMode:"flat",title:n[t].title})},this.state={disabledPrev:this.props.selected===0,disabledNext:this.props.selected===a.Children.count(this.props.children)-1}}componentDidMount(){this.props.scrollable&&this.scrollToSelected()}componentDidUpdate(s){const{scrollable:t,selected:r}=this.props;t&&s.selected!==r&&(this.scrollToSelected(),this.setState({disabledPrev:r===0,disabledNext:r===a.Children.count(this.props.children)-1}))}render(){const{selected:s,tabPosition:t,tabAlignment:r,children:e,onSelect:c,onKeyDown:n,navItemId:l,contentPanelId:o,renderAllContent:i,scrollable:b,scrollButtonsPosition:d}=this.props,T=a.Children.count(e),w=a.Children.toArray(e);let I;e&&(I=O(T).map((D,u,x)=>{const C={active:s===u,disabled:w[u].props.disabled,index:u,title:w[u].props.title,first:u===0,last:u===x.length-1,contentPanelId:o,renderAllContent:i,id:l,onSelect:c};return a.createElement(M.TabStripNavigationItem,{key:u,...C})}));const R=N.classNames("k-tabstrip-items-wrapper",{"k-hstack":t==="top"||t==="bottom","k-vstack":t==="left"||t==="right"}),A=N.classNames("k-tabstrip-items","k-reset",`k-tabstrip-items-${r}`);return a.createElement("div",{className:R},b?a.createElement(a.Fragment,null,(d==="around"||d==="before")&&this.renderArrow(p,this.state.disabledPrev),d==="before"&&this.renderArrow(g,this.state.disabledNext),a.createElement("ul",{ref:this.itemsNavRef,className:A,role:"tablist",tabIndex:this.props.tabIndex,onKeyDown:n,onWheel:this.onWheel,"aria-orientation":t==="left"||t==="right"?"vertical":void 0},I),d==="after"&&this.renderArrow(p,this.state.disabledPrev),(d==="around"||d==="after")&&this.renderArrow(g,this.state.disabledNext)):a.createElement("ul",{className:A,role:"tablist",tabIndex:this.props.tabIndex,onKeyDown:n},I))}scrollToSelected(){const s=this.itemsNavRef.current,t=s&&s.children[this.props.selected||0];if(t instanceof HTMLElement&&s instanceof HTMLElement){const r=this.horizontalScroll(),e=r?s.offsetWidth:s.offsetHeight,c=r?t.offsetWidth:t.offsetHeight,n=r?"left":"top";let l=r?s.scrollLeft:s.scrollTop,o=0;if(this.isRtl()){const i=t.offsetLeft;l=l*-1,i<0?(o=i-c+s.offsetLeft,s.scrollTo({[n]:o,behavior:S})):i+c>e-l&&(o=l+i-c,s.scrollTo({[n]:o,behavior:S}))}else{const i=r?t.offsetLeft-s.offsetLeft:t.offsetTop-s.offsetTop;l+e<i+c?(o=i+c-e,s.scrollTo({[n]:o,behavior:S})):l>i&&(o=i,s.scrollTo({[n]:o,behavior:S}))}}}horizontalScroll(){return/top|bottom/.test(this.props.tabPosition||"top")}};k.propTypes={children:f.oneOfType([f.element,f.arrayOf(f.element)]),onSelect:f.func,onKeyDown:f.func,selected:f.number,tabIndex:f.number};let P=k;exports.TabStripNavigation=P;
