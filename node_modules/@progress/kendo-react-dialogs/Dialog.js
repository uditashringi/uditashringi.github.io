/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const A=require("react"),F=require("react-dom"),o=require("prop-types"),_=require("./DialogTitleBar.js"),u=require("./DialogActionsBar.js"),s=require("@progress/kendo-react-common"),m=require("./package-metadata.js"),N=require("./utils.js"),c=require("./constants.js");function g(r){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(r){for(const e in r)if(e!=="default"){const a=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,a.get?a:{enumerable:!0,get:()=>r[e]})}}return t.default=r,Object.freeze(t)}const i=g(A),P=g(F),n=class n extends i.Component{constructor(t){super(t),this.context=0,this.titleId=this.generateTitleId(),this.contentId=this.generateContentId(),this.showLicenseWatermark=!1,this.activeElement=null,this.onCloseDialog=e=>{e.preventDefault(),s.dispatchEvent(this.props.onClose,e,this,void 0)},this.onKeyDown=e=>{e.keyCode===s.Keys.esc&&this.props.onClose&&(e.preventDefault(),this.onCloseDialog(e)),s.keepFocusInContainer(e,this.element)},this.getCurrentZIndex=()=>!this.state||this.context===void 0?this.context?this.context:c.DEFAULT_DIALOGS_ZINDEX:this.state.zIndex>(this.context?this.context+c.ZINDEX_DIALOGS_STEP:0)?this.state.zIndex:this.context+c.ZINDEX_DIALOGS_STEP,this.getDocument=()=>this.props.appendTo?this.props.appendTo.ownerDocument:document,s.validatePackage(m.packageMetadata),this.showLicenseWatermark=s.shouldShowValidationUI(m.packageMetadata),this.activeElement=s.getActiveElement(document)}get _id(){return this.props.id+"-accessibility-id"}componentDidMount(){if(this.element){if(this.props.autoFocus&&!this.props.autoFocusedElement)this.element.focus();else if(this.props.autoFocus&&this.props.autoFocusedElement)this.element.focus();else if(!this.props.autoFocus&&this.props.autoFocusedElement){const t=this.element.querySelector(this.props.autoFocusedElement);t&&t.focus()}else{const t=[...s.FOCUSABLE_ELEMENTS].map(e=>e+":not(.k-dialog-titlebar *)");s.focusFirstFocusableChild(this.element,t)}this.setState({zIndex:N.getMaxZIndex(this.getCurrentZIndex(),this.getDocument(),this._id)})}}componentWillUnmount(){setTimeout(()=>{var t;!this.element&&this.activeElement&&document&&(document.contains(this.activeElement)?this.activeElement.focus():this.activeElement.id&&((t=document.getElementById(this.activeElement.id))==null||t.focus()))})}render(){const t=this.props.id!==void 0?this.props.id:this.titleId,{title:e,width:a,height:I,children:D,minWidth:E,dir:b,style:C,contentStyle:v,modal:x=!0}=this.props,d=i.Children.toArray(D),T=this.getContent(d),k=this.getActionBar(d),w=e?{"aria-labelledby":t}:null,O=this.props.closeIcon!==void 0?this.props.closeIcon:!0,p=this.getCurrentZIndex(),h=i.createElement(s.ZIndexContext.Provider,{value:p},i.createElement("div",{[c.DATA_DIALOGS_ID]:this._id,className:"k-dialog-wrapper"+(this.props.className?" "+this.props.className:""),onKeyDown:this.onKeyDown,tabIndex:0,dir:b,style:{zIndex:p,...C},ref:S=>this.element=S},x&&i.createElement("div",{className:"k-overlay",style:this.props.overlayStyle}),i.createElement("div",{...w,className:s.classNames("k-window k-dialog",{[`k-window-${this.props.themeColor}`]:this.props.themeColor}),role:"dialog","aria-labelledby":t,"aria-modal":!0,"aria-describedby":this.contentId,style:{width:a,height:I,minWidth:E}},this.props.title&&i.createElement(_.DialogTitleBar,{closeIcon:O,onCloseButtonClick:this.onCloseDialog,id:t},e),i.createElement("div",{className:"k-window-content k-dialog-content",style:v,id:this.contentId},T),k,this.showLicenseWatermark&&i.createElement(s.WatermarkOverlay,null))));return s.canUseDOM?this.props.appendTo!==null?P.createPortal(h,this.props.appendTo||document.body):h:null}getActionBar(t){return t.filter(e=>e&&e.type===u.DialogActionsBar)}getContent(t){return t.filter(e=>e&&e.type!==u.DialogActionsBar)}generateTitleId(){return"dialog-title-"+this._id}generateContentId(){return"dialog-content-"+this._id}};n.displayName="Dialog",n.propTypes={title:o.any,id:o.string,dir:o.string,style:o.object,closeIcon:o.bool,width:o.oneOfType([o.number,o.string]),height:o.oneOfType([o.number,o.string]),minWidth:o.oneOfType([o.number,o.string]),autoFocus:o.bool},n.defaultProps={autoFocus:!1},n.contextType=s.ZIndexContext;let l=n;const y=s.createPropsContext(),f=s.withIdHOC(s.withPropsContext(y,l));f.displayName="KendoReactDialog";exports.Dialog=f;exports.DialogPropsContext=y;
